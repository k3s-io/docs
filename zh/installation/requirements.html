<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-installation/requirements" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Requirements | K3s</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.k3s.io/zh/installation/requirements"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="kr"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Requirements | K3s"><meta data-rh="true" name="description" content="K3s is very lightweight, but has some minimum requirements as outlined below."><meta data-rh="true" property="og:description" content="K3s is very lightweight, but has some minimum requirements as outlined below."><link data-rh="true" rel="icon" href="/zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.k3s.io/zh/installation/requirements"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/installation/requirements" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/zh/installation/requirements" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/kr/installation/requirements" hreflang="kr"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/ja/installation/requirements" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/installation/requirements" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"安装","item":"https://docs.k3s.io/zh/installation/"},{"@type":"ListItem","position":2,"name":"Requirements","item":"https://docs.k3s.io/zh/installation/requirements"}]}</script><link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="K3s RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="K3s Atom Feed"><link rel="stylesheet" href="/zh/assets/css/styles.41326d1c.css">
<script src="/zh/assets/js/runtime~main.620e8deb.js" defer="defer"></script>
<script src="/zh/assets/js/main.8e2f9d44.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/k3s-logo-light.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zh/img/k3s-logo-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/installation/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/installation/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li><li><a href="/kr/installation/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="kr">한국어</a></li><li><a href="/ja/installation/requirements" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><a class="navbar__item navbar__link navbar__icon navbar__blog" href="/zh/blog">Blog</a><a href="https://github.com/k3s-io/k3s/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/">K3s - 轻量级 Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/quick-start">快速入门指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/zh/installation">安装</a><button aria-label="折叠侧边栏分类 &#x27;安装&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/installation/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/configuration">Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/private-registry">Private Registry Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/registry-mirror">Embedded Registry Mirror</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/airgap">Air-Gap Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/server-roles">Managing Server Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/packaged-components">Managing Packaged Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/installation/uninstall">Uninstalling K3s</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh/datastore">集群数据存储</a><button aria-label="展开侧边栏分类 &#x27;集群数据存储&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh/upgrades">升级</a><button aria-label="展开侧边栏分类 &#x27;升级&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh/security">安全</a><button aria-label="展开侧边栏分类 &#x27;安全&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh/cli">CLI 工具</a><button aria-label="展开侧边栏分类 &#x27;CLI 工具&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/architecture">架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/cluster-access">集群访问</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/storage">卷和存储</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh/networking">Networking</a><button aria-label=" 展开侧边栏分类 &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/helm">Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/advanced">高级选项和配置</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh/reference/env-variables">参考</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/zh/release-notes/v1.33.X">Release Notes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/related-projects">Related Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/known-issues">已知问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/faq">常见问题</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/zh/installation"><span>安装</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Requirements</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Requirements</h1></header><p>K3s is very lightweight, but has some minimum requirements as outlined below.</p>
<p>Whether you&#x27;re configuring K3s to run in a container or as a native Linux service, each node running K3s should meet the following minimum requirements. These requirements are baseline for K3s and its packaged components, and do not include resources consumed by the workload itself.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>Two nodes cannot have the same hostname.</p>
<p>If multiple nodes will have the same hostname, or if hostnames may be reused by an automated provisioning system, use the <code>--with-node-id</code> option to append a random suffix for each node, or devise a unique name to pass with <code>--node-name</code> or <code>$K3S_NODE_NAME</code> for each node you add to the cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>K3s is available for the following architectures:</p>
<ul>
<li>x86_64</li>
<li>armhf</li>
<li>arm64/aarch64</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>ARM64 Page Size</div><div class="admonitionContent_BuS1"><p>Prior to May 2023 releases (v1.24.14+k3s1, v1.25.10+k3s1, v1.26.5+k3s1, v1.27.2+k3s1), on <code>aarch64/arm64</code> systems, the kernel must use 4k pages. <strong>RHEL9</strong>, <strong>Ubuntu</strong>, <strong>Raspberry PI OS</strong>, and <strong>SLES</strong> all meet this requirement.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="operating-systems">Operating Systems<a href="#operating-systems" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>K3s is expected to work on most modern Linux systems.</p>
<p>Some OSs have additional setup requirements:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Red Hat Enterprise Linux / CentOS / Fedora</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Ubuntu / Debian</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Raspberry Pi</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>It is recommended to turn off firewalld:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl disable firewalld --now</span><br></span></code></pre></div></div><p>If you wish to keep firewalld enabled, by default, the following rules are required:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">firewall-cmd --permanent --add-port=6443/tcp #apiserver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">firewall-cmd --permanent --zone=trusted --add-source=10.42.0.0/16 #pods</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">firewall-cmd --permanent --zone=trusted --add-source=10.43.0.0/16 #services</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">firewall-cmd --reload</span><br></span></code></pre></div></div><p>Additional ports may need to be opened depending on your setup. See <a href="#inbound-rules-for-k3s-nodes">Inbound Rules</a> for more information. If you change the default CIDR for pods or services, you will need to update the firewall rules accordingly.</p><p>If enabled, it is required to disable nm-cloud-setup and reboot the node:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl disable nm-cloud-setup.service nm-cloud-setup.timer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">reboot</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Older Debian release may suffer from a known iptables bug. See <a href="/zh/known-issues#iptables">Known Issues</a>.</p><p>It is recommended to turn off ufw (uncomplicated firewall):</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ufw disable</span><br></span></code></pre></div></div><p>If you wish to keep ufw enabled, by default, the following rules are required:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ufw allow 6443/tcp #apiserver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ufw allow from 10.42.0.0/16 to any #pods</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ufw allow from 10.43.0.0/16 to any #services</span><br></span></code></pre></div></div><p>Additional ports may need to be opened depending on your setup. See <a href="#inbound-rules-for-k3s-nodes">Inbound Rules</a> for more information. If you change the default CIDR for pods or services, you will need to update the firewall rules accordingly.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Raspberry Pi OS is Debian based, and may suffer from a known iptables bug. See <a href="/zh/known-issues#iptables">Known Issues</a>.</p><p>Standard Raspberry Pi OS installations do not start with <code>cgroups</code> enabled. <strong>K3S</strong> needs <code>cgroups</code> to start the systemd service. <code>cgroups</code>can be enabled by appending <code>cgroup_memory=1 cgroup_enable=memory</code> to <code>/boot/cmdline.txt</code>.</p><p>Example cmdline.txt:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">console=serial0,115200 console=tty1 root=PARTUUID=58b06195-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait cgroup_memory=1 cgroup_enable=memory</span><br></span></code></pre></div></div><p>Starting with Ubuntu 21.10, vxlan support on Raspberry Pi has been moved into a separate kernel module.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt install linux-modules-extra-raspi</span><br></span></code></pre></div></div></div></div></div>
<p>For more information on which OSs were tested with Rancher managed K3s clusters, refer to the <a href="https://rancher.com/support-maintenance-terms/" target="_blank" rel="noopener noreferrer">Rancher support and maintenance terms.</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a href="#hardware" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>Hardware requirements scale based on the size of your deployments. Minimum recommendations are outlined here.</p>
<table><thead><tr><th>Spec</th><th>Minimum</th><th>Recommended</th></tr></thead><tbody><tr><td>CPU</td><td>1 core</td><td>2 cores</td></tr><tr><td>RAM</td><td>512 MB</td><td>1 GB</td></tr></tbody></table>
<p><a href="/zh/reference/resource-profiling">Resource Profiling</a> captures the results of tests to determine minimum resource requirements for the K3s agent, the K3s server with a workload, and the K3s server with one agent. It also contains analysis about what has the biggest impact on K3s server and agent utilization, and how the cluster datastore can be protected from interference from agents and workloads.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Raspberry Pi and embedded etcd</div><div class="admonitionContent_BuS1"><p>If deploying K3s with embedded etcd on a Raspberry Pi, it is recommended that you use an external SSD. etcd is write intensive, and SD cards cannot handle the IO load.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="disks">Disks<a href="#disks" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4>
<p>K3s performance depends on the performance of the database. To ensure optimal speed, we recommend using an SSD when possible. Disk performance will vary on ARM devices utilizing an SD card or eMMC.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="networking">Networking<a href="#networking" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>The K3s server needs port 6443 to be accessible by all nodes.</p>
<p>The nodes need to be able to reach other nodes over UDP port 8472 when using the Flannel VXLAN backend, or over UDP port 51820 (and 51821 if IPv6 is used) when using the Flannel WireGuard backend. The node should not listen on any other port. K3s uses reverse tunneling such that the nodes make outbound connections to the server and all kubelet traffic runs through that tunnel. However, if you do not use Flannel and provide your own custom CNI, then the ports needed by Flannel are not needed by K3s.</p>
<p>If you wish to utilize the metrics server, all nodes must be accessible to each other on port 10250.</p>
<p>If you plan on achieving high availability with embedded etcd, server nodes must be accessible to each other on ports 2379 and 2380.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>The VXLAN port on nodes should not be exposed to the world as it opens up your cluster network to be accessed by anyone. Run your nodes behind a firewall/security group that disables access to port 8472.</p></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>危险</div><div class="admonitionContent_BuS1"><p>Flannel relies on the <a href="https://www.cni.dev/plugins/current/main/bridge/" target="_blank" rel="noopener noreferrer">Bridge CNI plugin</a> to create a L2 network that switches traffic. Rogue pods with <code>NET_RAW</code> capabilities can abuse that L2 network to launch attacks such as ARP spoofing. Therefore, as documented in the <a href="https://kubernetes.io/docs/concepts/security/pod-security-standards/" target="_blank" rel="noopener noreferrer">Kubernetes docs</a>, please set a restricted profile that disables <code>NET_RAW</code> on non-trustable pods.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inbound-rules-for-k3s-nodes">Inbound Rules for K3s Nodes<a href="#inbound-rules-for-k3s-nodes" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3>
<table><thead><tr><th>Protocol</th><th>Port</th><th>Source</th><th>Destination</th><th>Description</th></tr></thead><tbody><tr><td>TCP</td><td>2379-2380</td><td>Servers</td><td>Servers</td><td>Required only for HA with embedded etcd</td></tr><tr><td>TCP</td><td>6443</td><td>Agents</td><td>Servers</td><td>K3s supervisor and Kubernetes API Server</td></tr><tr><td>UDP</td><td>8472</td><td>All nodes</td><td>All nodes</td><td>Required only for Flannel VXLAN</td></tr><tr><td>TCP</td><td>10250</td><td>All nodes</td><td>All nodes</td><td>Kubelet metrics</td></tr><tr><td>UDP</td><td>51820</td><td>All nodes</td><td>All nodes</td><td>Required only for Flannel Wireguard with IPv4</td></tr><tr><td>UDP</td><td>51821</td><td>All nodes</td><td>All nodes</td><td>Required only for Flannel Wireguard with IPv6</td></tr><tr><td>TCP</td><td>5001</td><td>All nodes</td><td>All nodes</td><td>Required only for embedded distributed registry (Spegel)</td></tr><tr><td>TCP</td><td>6443</td><td>All nodes</td><td>All nodes</td><td>Required only for embedded distributed registry (Spegel)</td></tr></tbody></table>
<p>Typically, all outbound traffic is allowed.</p>
<p>Additional changes to the firewall may be required depending on the OS used.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="large-clusters">Large Clusters<a href="#large-clusters" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2>
<p>Hardware requirements are based on the size of your K3s cluster. For production and large clusters, we recommend using a high-availability setup with an external database. The following options are recommended for the external database in production:</p>
<ul>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>etcd</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cpu-and-memory">CPU and Memory<a href="#cpu-and-memory" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3>
<p>The following are the minimum CPU and memory requirements for nodes in a high-availability K3s server:</p>
<table><thead><tr><th style="text-align:center">Deployment Size</th><th style="text-align:center">Nodes</th><th style="text-align:center">VCPUS</th><th style="text-align:center">RAM</th></tr></thead><tbody><tr><td style="text-align:center">Small</td><td style="text-align:center">Up to 10</td><td style="text-align:center">2</td><td style="text-align:center">4 GB</td></tr><tr><td style="text-align:center">Medium</td><td style="text-align:center">Up to 100</td><td style="text-align:center">4</td><td style="text-align:center">8 GB</td></tr><tr><td style="text-align:center">Large</td><td style="text-align:center">Up to 250</td><td style="text-align:center">8</td><td style="text-align:center">16 GB</td></tr><tr><td style="text-align:center">X-Large</td><td style="text-align:center">Up to 500</td><td style="text-align:center">16</td><td style="text-align:center">32 GB</td></tr><tr><td style="text-align:center">XX-Large</td><td style="text-align:center">500+</td><td style="text-align:center">32</td><td style="text-align:center">64 GB</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disks-1">Disks<a href="#disks-1" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3>
<p>The cluster performance depends on database performance. To ensure optimal speed, we recommend always using SSD disks to back your K3s cluster. On cloud providers, you will also want to use the minimum size that allows the maximum IOPS.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network">Network<a href="#network" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3>
<p>You should consider increasing the subnet size for the cluster CIDR so that you don&#x27;t run out of IPs for the pods. You can do that by passing the <code>--cluster-cidr</code> option to K3s server upon starting.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a href="#database" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3>
<p>K3s supports different databases including MySQL, PostgreSQL, MariaDB, and etcd.  See <a href="/zh/datastore">Cluster Datastore</a> for more info.</p>
<p>The following is a sizing guide for the database resources you need to run large clusters:</p>
<table><thead><tr><th style="text-align:center">Deployment Size</th><th style="text-align:center">Nodes</th><th style="text-align:center">VCPUS</th><th style="text-align:center">RAM</th></tr></thead><tbody><tr><td style="text-align:center">Small</td><td style="text-align:center">Up to 10</td><td style="text-align:center">1</td><td style="text-align:center">2 GB</td></tr><tr><td style="text-align:center">Medium</td><td style="text-align:center">Up to 100</td><td style="text-align:center">2</td><td style="text-align:center">8 GB</td></tr><tr><td style="text-align:center">Large</td><td style="text-align:center">Up to 250</td><td style="text-align:center">4</td><td style="text-align:center">16 GB</td></tr><tr><td style="text-align:center">X-Large</td><td style="text-align:center">Up to 500</td><td style="text-align:center">8</td><td style="text-align:center">32 GB</td></tr><tr><td style="text-align:center">XX-Large</td><td style="text-align:center">500+</td><td style="text-align:center">16</td><td style="text-align:center">64 GB</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/k3s-io/docs/edit/main/docs/installation/requirements.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2025-06-23T17:11:59.000Z" itemprop="dateModified">2025年6月23日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/installation"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/installation/configuration"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Configuration Options</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#operating-systems" class="table-of-contents__link toc-highlight">Operating Systems</a></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a></li><li><a href="#networking" class="table-of-contents__link toc-highlight">Networking</a><ul><li><a href="#inbound-rules-for-k3s-nodes" class="table-of-contents__link toc-highlight">Inbound Rules for K3s Nodes</a></li></ul></li><li><a href="#large-clusters" class="table-of-contents__link toc-highlight">Large Clusters</a><ul><li><a href="#cpu-and-memory" class="table-of-contents__link toc-highlight">CPU and Memory</a></li><li><a href="#disks-1" class="table-of-contents__link toc-highlight">Disks</a></li><li><a href="#network" class="table-of-contents__link toc-highlight">Network</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 K3s Project Authors. All rights reserved. <br>The Linux Foundation has registered trademarks
      and uses trademarks. For a list of trademarks of The Linux Foundation, 
      please see our <a href="https://www.linuxfoundation.org/trademark-usage"> Trademark Usage</a> page.</div></div></div></footer></div>
</body>
</html>