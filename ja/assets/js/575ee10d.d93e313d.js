"use strict";(self.webpackChunkk_3_s_docs=self.webpackChunkk_3_s_docs||[]).push([[6075],{15757:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"cli/agent","title":"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8","description":"\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001K3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/cli/agent.md","sourceDirName":"cli","slug":"/cli/agent","permalink":"/ja/cli/agent","draft":false,"unlisted":false,"editUrl":"https://github.com/k3s-io/docs/edit/main/docs/cli/agent.md","tags":[],"version":"current","lastUpdatedAt":1761077316000,"frontMatter":{"title":"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8"},"sidebar":"mySidebar","previous":{"title":"server","permalink":"/ja/cli/server"},"next":{"title":"\u8a3c\u660e\u66f8","permalink":"/ja/cli/certificate"}}');var s=d(74848),l=d(28453);const i={title:"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8"},t="k3s \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8",c={},h=[{value:"\u30ed\u30ae\u30f3\u30b0",id:"\u30ed\u30ae\u30f3\u30b0",level:3},{value:"\u30af\u30e9\u30b9\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3",id:"\u30af\u30e9\u30b9\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3",level:3},{value:"\u30c7\u30fc\u30bf",id:"\u30c7\u30fc\u30bf",level:3},{value:"\u30ce\u30fc\u30c9",id:"\u30ce\u30fc\u30c9",level:3},{value:"\u30e9\u30f3\u30bf\u30a4\u30e0",id:"\u30e9\u30f3\u30bf\u30a4\u30e0",level:3},{value:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30ad\u30f3\u30b0",id:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30ad\u30f3\u30b0",level:3},{value:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0",id:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0",level:3},{value:"\u5b9f\u9a13\u7684",id:"\u5b9f\u9a13\u7684",level:3},{value:"\u5ec3\u6b62\u4e88\u5b9a",id:"\u5ec3\u6b62\u4e88\u5b9a",level:3},{value:"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb\u3068taints",id:"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb\u3068taints",level:3},{value:"K3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8CLI\u30d8\u30eb\u30d7",id:"k3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8cli\u30d8\u30eb\u30d7",level:3}];function x(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"k3s-\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8",children:"k3s \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8"})}),"\n",(0,s.jsx)(n.p,{children:"\u3053\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001K3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3059\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u30b5\u30fc\u30d0\u30fc\u3082\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u3001\u3053\u306e\u30da\u30fc\u30b8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d5\u30e9\u30b0\u306f\u30b5\u30fc\u30d0\u30fc\u3067\u3082\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u30aa\u30d7\u30b7\u30e7\u30f3\u306fCLI\u30d5\u30e9\u30b0\u3068\u3057\u3066\u3053\u306e\u30da\u30fc\u30b8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u3057\u3066\u3082\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002YAML\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001",(0,s.jsx)(n.a,{href:"/ja/installation/configuration#configuration-file",children:"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb"}),"\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u30ed\u30ae\u30f3\u30b0",children:"\u30ed\u30ae\u30f3\u30b0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"-v"})," \u5024"]}),(0,s.jsx)(n.td,{children:"0"}),(0,s.jsx)(n.td,{children:"\u30ed\u30b0\u30ec\u30d9\u30eb\u306e\u5197\u9577\u5ea6\u306e\u6570\u5024"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--vmodule"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30d5\u30a1\u30a4\u30eb\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30ed\u30b0\u306e\u305f\u3081\u306eFILE_PATTERN=LOG_LEVEL\u8a2d\u5b9a\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\u30ea\u30b9\u30c8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--log \u5024, -l"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b0\u3092\u8a18\u9332"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--alsologtostderr"})}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u306b\u3082\u30ed\u30b0\u3092\u8a18\u9332"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30af\u30e9\u30b9\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3",children:"\u30af\u30e9\u30b9\u30bf\u30fc\u30aa\u30d7\u30b7\u30e7\u30f3"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u74b0\u5883\u5909\u6570"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--token \u5024, -t"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_TOKEN"})}),(0,s.jsx)(n.td,{children:"\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--token-file"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_TOKEN_FILE"})}),(0,s.jsx)(n.td,{children:"\u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3\u30d5\u30a1\u30a4\u30eb"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--server \u5024, -s"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_URL"})}),(0,s.jsx)(n.td,{children:"\u63a5\u7d9a\u3059\u308b\u30b5\u30fc\u30d0\u30fc"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30c7\u30fc\u30bf",children:"\u30c7\u30fc\u30bf"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--data-dir \u5024, -d"})," \u5024"]}),(0,s.jsx)(n.td,{children:'"/var/lib/rancher/k3s"'}),(0,s.jsx)(n.td,{children:"\u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u30fc"})]})})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30ce\u30fc\u30c9",children:"\u30ce\u30fc\u30c9"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u74b0\u5883\u5909\u6570"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--node-name"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_NODE_NAME"})}),(0,s.jsx)(n.td,{children:"\u30ce\u30fc\u30c9\u540d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--with-node-id"})}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30ce\u30fc\u30c9\u540d\u306bID\u3092\u8ffd\u52a0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--node-label"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30e9\u30d9\u30eb\u306e\u30bb\u30c3\u30c8\u3067kubelet\u3092\u767b\u9332\u304a\u3088\u3073\u958b\u59cb"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--node-taint"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"taints\u306e\u30bb\u30c3\u30c8\u3067kubelet\u3092\u767b\u9332"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--protect-kernel-defaults"})}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30ab\u30fc\u30cd\u30eb\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u52d5\u4f5c\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30c1\u30e5\u30fc\u30ca\u30d6\u30eb\u304ckubelet\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u7570\u306a\u308b\u5834\u5408\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--selinux"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_SELINUX"})}),(0,s.jsx)(n.td,{children:"containerd\u3067SELinux\u3092\u6709\u52b9\u306b\u3059\u308b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--lb-server-port"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_LB_SERVER_PORT"})}),(0,s.jsx)(n.td,{children:"\u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u30fc\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306e\u30ed\u30fc\u30ab\u30eb\u30dd\u30fc\u30c8\u3002\u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u30fc\u3068apiserver\u304c\u540c\u3058\u5834\u6240\u306b\u306a\u3044\u5834\u5408\u3001\u3053\u306e\u30dd\u30fc\u30c8\u306e1\u3064\u5c11\u306a\u3044\u8ffd\u52a0\u30dd\u30fc\u30c8\u3082apiserver\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 6444\uff09"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30e9\u30f3\u30bf\u30a4\u30e0",children:"\u30e9\u30f3\u30bf\u30a4\u30e0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--container-runtime-endpoint"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u7d44\u307f\u8fbc\u307f\u306econtainerd\u3092\u7121\u52b9\u306b\u3057\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d1\u30b9\u306eCRI\u30bd\u30b1\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002--docker\u3068\u4e00\u7dd2\u306b\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001cri-docker\u30bd\u30b1\u30c3\u30c8\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--pause-image"})," \u5024"]}),(0,s.jsx)(n.td,{children:'"docker.io/rancher/pause:3.1"'}),(0,s.jsx)(n.td,{children:"containerd\u307e\u305f\u306fdocker\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305fpause\u30a4\u30e1\u30fc\u30b8"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--private-registry"})," \u5024"]}),(0,s.jsx)(n.td,{children:'"/etc/rancher/k3s/registries.yaml"'}),(0,s.jsx)(n.td,{children:"\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30ad\u30f3\u30b0",children:"\u30cd\u30c3\u30c8\u30ef\u30fc\u30ad\u30f3\u30b0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u74b0\u5883\u5909\u6570"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--node-ip \u5024, -i"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30ce\u30fc\u30c9\u306e\u5e83\u544a\u7528IP\u30a2\u30c9\u30ec\u30b9"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--node-external-ip"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30ce\u30fc\u30c9\u306e\u5e83\u544a\u7528\u5916\u90e8IP\u30a2\u30c9\u30ec\u30b9"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--resolv-conf"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_RESOLV_CONF"})}),(0,s.jsx)(n.td,{children:"Kubelet\u306eresolv.conf\u30d5\u30a1\u30a4\u30eb"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--flannel-iface"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4e0a\u66f8\u304d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--flannel-conf"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--flannel-cni-conf"})," \u5024"]}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsx)(n.td,{children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel cni\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0",children:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--kubelet-arg"})," \u5024"]}),(0,s.jsx)(n.td,{children:"kubelet\u30d7\u30ed\u30bb\u30b9\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--kube-proxy-arg"})," \u5024"]}),(0,s.jsx)(n.td,{children:"kube-proxy\u30d7\u30ed\u30bb\u30b9\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305f\u30d5\u30e9\u30b0"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u5b9f\u9a13\u7684",children:"\u5b9f\u9a13\u7684"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--rootless"})}),(0,s.jsx)(n.td,{children:"\u30eb\u30fc\u30c8\u30ec\u30b9\u3067\u5b9f\u884c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--docker"})}),(0,s.jsx)(n.td,{children:"containerd\u306e\u4ee3\u308f\u308a\u306bcri-dockerd\u3092\u4f7f\u7528"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--prefer-bundled-bin"})}),(0,s.jsx)(n.td,{children:"\u30db\u30b9\u30c8\u30d0\u30a4\u30ca\u30ea\u3088\u308a\u3082\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u30d0\u30a4\u30ca\u30ea\u3092\u512a\u5148"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--disable-default-registry-endpoint"})}),(0,s.jsxs)(n.td,{children:['"',(0,s.jsx)(n.a,{href:"/ja/installation/private-registry#default-endpoint-fallback",children:"\u30c7\u30d5\u30a9\u30eb\u30c8\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30d5\u30a9\u30fc\u30eb\u30d0\u30c3\u30af"}),'"\u3092\u53c2\u7167']})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u5ec3\u6b62\u4e88\u5b9a",children:"\u5ec3\u6b62\u4e88\u5b9a"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u30d5\u30e9\u30b0"}),(0,s.jsx)(n.th,{children:"\u74b0\u5883\u5909\u6570"}),(0,s.jsx)(n.th,{children:"\u8aac\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--no-flannel"})}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--flannel-backend=none"}),"\u3092\u4f7f\u7528"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--cluster-secret"})," \u5024"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"K3S_CLUSTER_SECRET"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"--token"}),"\u3092\u4f7f\u7528"]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb\u3068taints",children:"\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306e\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb\u3068taints"}),"\n",(0,s.jsxs)(n.p,{children:["K3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306f\u3001",(0,s.jsx)(n.code,{children:"--node-label"}),"\u304a\u3088\u3073",(0,s.jsx)(n.code,{children:"--node-taint"}),"\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u8a2d\u5b9a\u3067\u304d\u3001\u3053\u308c\u306b\u3088\u308akubelet\u306b\u30e9\u30d9\u30eb\u3068taint\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u767b\u9332\u6642\u306b\u306e\u307f\u30e9\u30d9\u30eb\u304a\u3088\u3073/\u307e\u305f\u306ftaint\u3092\u8ffd\u52a0\u3059\u308b\u305f\u3081\u3001\u4e00\u5ea6\u3060\u3051\u8ffd\u52a0\u3055\u308c\u3001\u305d\u306e\u5f8cK3s\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3082\u5909\u66f4\u3067\u304d\u307e\u305b\u3093\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u4ee5\u4e0b\u306f\u3001\u30e9\u30d9\u30eb\u3068taint\u3092\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3059\u4f8b\u3067\u3059\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"     --node-label foo=bar \\\n     --node-label hello=world \\\n     --node-taint key1=value1:NoExecute\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u30ce\u30fc\u30c9\u767b\u9332\u5f8c\u306b\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb\u3068taint\u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\u3001",(0,s.jsx)(n.code,{children:"kubectl"}),"\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002taints\u306e\u8ffd\u52a0\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u516c\u5f0f\u306eKubernetes\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/",children:"taints"}),"\u304a\u3088\u3073",(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/#add-a-label-to-a-node",children:"\u30ce\u30fc\u30c9\u30e9\u30d9\u30eb"}),"\u306e\u8ffd\u52a0\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"k3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8cli\u30d8\u30eb\u30d7",children:"K3s\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8CLI\u30d8\u30eb\u30d7"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u4ee5\u4e0b\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u89d2\u62ec\u5f27\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u4f8b\u3048\u3070",(0,s.jsx)(n.code,{children:"[$K3S_URL]"}),"\u3001\u305d\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u305d\u306e\u540d\u524d\u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'NAME:\n   k3s agent - \u30ce\u30fc\u30c9\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3092\u5b9f\u884c\n\nUSAGE:\n   k3s agent [OPTIONS]\n\nOPTIONS:\n   --config FILE, -c FILE                     (config) FILE\u304b\u3089\u8a2d\u5b9a\u3092\u8aad\u307f\u8fbc\u3080 (\u30c7\u30d5\u30a9\u30eb\u30c8: "/etc/rancher/k3s/config.yaml") [$K3S_CONFIG_FILE]\n   --debug                                    (logging) \u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3092\u6709\u52b9\u306b\u3059\u308b [$K3S_DEBUG]\n   -v \u5024                                   (logging) \u30ed\u30b0\u30ec\u30d9\u30eb\u306e\u5197\u9577\u5ea6\u306e\u6570\u5024 (\u30c7\u30d5\u30a9\u30eb\u30c8: 0)\n   --vmodule \u5024                            (logging) \u30d5\u30a1\u30a4\u30eb\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30ed\u30b0\u306e\u305f\u3081\u306eFILE_PATTERN=LOG_LEVEL\u8a2d\u5b9a\u306e\u30ab\u30f3\u30de\u533a\u5207\u308a\u30ea\u30b9\u30c8\n   --log \u5024, -l \u5024                      (logging) \u30d5\u30a1\u30a4\u30eb\u306b\u30ed\u30b0\u3092\u8a18\u9332\n   --alsologtostderr                          (logging) \u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u306b\u3082\u30ed\u30b0\u3092\u8a18\u9332\n   --token \u5024, -t \u5024                    (cluster) \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3 [$K3S_TOKEN]\n   --token-file \u5024                         (cluster) \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u30c8\u30fc\u30af\u30f3\u30d5\u30a1\u30a4\u30eb [$K3S_TOKEN_FILE]\n   --server \u5024, -s \u5024                   (cluster) \u63a5\u7d9a\u3059\u308b\u30b5\u30fc\u30d0\u30fc [$K3S_URL]\n   --data-dir \u5024, -d \u5024                 (agent/data) \u72b6\u614b\u3092\u4fdd\u6301\u3059\u308b\u30d5\u30a9\u30eb\u30c0\u30fc (\u30c7\u30d5\u30a9\u30eb\u30c8: "/var/lib/rancher/k3s")\n   --node-name \u5024                          (agent/node) \u30ce\u30fc\u30c9\u540d [$K3S_NODE_NAME]\n   --with-node-id                             (agent/node) \u30ce\u30fc\u30c9\u540d\u306bID\u3092\u8ffd\u52a0\n   --node-label \u5024                         (agent/node) \u30e9\u30d9\u30eb\u306e\u30bb\u30c3\u30c8\u3067kubelet\u3092\u767b\u9332\u304a\u3088\u3073\u958b\u59cb\n   --node-taint \u5024                         (agent/node) taints\u306e\u30bb\u30c3\u30c8\u3067kubelet\u3092\u767b\u9332\n   --image-credential-provider-bin-dir \u5024  (agent/node) \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u30d7\u30e9\u30b0\u30a4\u30f3\u30d0\u30a4\u30ca\u30ea\u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 (\u30c7\u30d5\u30a9\u30eb\u30c8: "/var/lib/rancher/credentialprovider/bin")\n   --image-credential-provider-config \u5024   (agent/node) \u30af\u30ec\u30c7\u30f3\u30b7\u30e3\u30eb\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\u30d7\u30e9\u30b0\u30a4\u30f3\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9 (\u30c7\u30d5\u30a9\u30eb\u30c8: "/var/lib/rancher/credentialprovider/config.yaml")\n   --selinux                                  (agent/node) containerd\u3067SELinux\u3092\u6709\u52b9\u306b\u3059\u308b [$K3S_SELINUX]\n   --lb-server-port \u5024                     (agent/node) \u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u30fc\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306e\u30ed\u30fc\u30ab\u30eb\u30dd\u30fc\u30c8\u3002\u30b9\u30fc\u30d1\u30fc\u30d0\u30a4\u30b6\u30fc\u3068apiserver\u304c\u540c\u3058\u5834\u6240\u306b\u306a\u3044\u5834\u5408\u3001\u3053\u306e\u30dd\u30fc\u30c8\u306e1\u3064\u5c11\u306a\u3044\u8ffd\u52a0\u30dd\u30fc\u30c8\u3082apiserver\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8: 6444\uff09 [$K3S_LB_SERVER_PORT]\n   --protect-kernel-defaults                  (agent/node) \u30ab\u30fc\u30cd\u30eb\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u52d5\u4f5c\u3002\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u30ab\u30fc\u30cd\u30eb\u306e\u30c1\u30e5\u30fc\u30ca\u30d6\u30eb\u304ckubelet\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u3068\u7570\u306a\u308b\u5834\u5408\u306b\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\n   --container-runtime-endpoint \u5024         (agent/runtime) \u7d44\u307f\u8fbc\u307f\u306econtainerd\u3092\u7121\u52b9\u306b\u3057\u3001\u6307\u5b9a\u3055\u308c\u305f\u30d1\u30b9\u306eCRI\u30bd\u30b1\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002--docker\u3068\u4e00\u7dd2\u306b\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001docker\u30bd\u30b1\u30c3\u30c8\u30d1\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\n   --pause-image \u5024                        (agent/runtime) containerd\u307e\u305f\u306fdocker\u30b5\u30f3\u30c9\u30dc\u30c3\u30af\u30b9\u7528\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3055\u308c\u305fpause\u30a4\u30e1\u30fc\u30b8 (\u30c7\u30d5\u30a9\u30eb\u30c8: "rancher/mirrored-pause:3.6")\n   --snapshotter \u5024                        (agent/runtime) \u30c7\u30d5\u30a9\u30eb\u30c8\u306econtainerd\u30b9\u30ca\u30c3\u30d7\u30b7\u30e7\u30c3\u30bf\u30fc\u3092\u4e0a\u66f8\u304d (\u30c7\u30d5\u30a9\u30eb\u30c8: "overlayfs")\n   --private-registry \u5024                   (agent/runtime) \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb (\u30c7\u30d5\u30a9\u30eb\u30c8: "/etc/rancher/k3s/registries.yaml")\n   --node-ip \u5024, -i \u5024                  (agent/networking) \u30ce\u30fc\u30c9\u306e\u5e83\u544a\u7528IPv4/IPv6\u30a2\u30c9\u30ec\u30b9\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-markdown",children:"   --node-external-ip value                   (agent/networking) \u30ce\u30fc\u30c9\u306e\u5e83\u544a\u7528IPv4/IPv6\u5916\u90e8IP\u30a2\u30c9\u30ec\u30b9\n   --resolv-conf value                        (agent/networking) Kubelet\u306eresolv.conf\u30d5\u30a1\u30a4\u30eb [$K3S_RESOLV_CONF]\n   --flannel-iface value                      (agent/networking) \u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4e0a\u66f8\u304d\n   --flannel-conf value                       (agent/networking) \u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d\n   --flannel-cni-conf value                   (agent/networking) \u30c7\u30d5\u30a9\u30eb\u30c8\u306eflannel cni\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u4e0a\u66f8\u304d\n   --kubelet-arg value                        (agent/flags) kubelet\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30d5\u30e9\u30b0\n   --kube-proxy-arg value                     (agent/flags) kube-proxy\u30d7\u30ed\u30bb\u30b9\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30d5\u30e9\u30b0\n   --rootless                                 (experimental) \u30eb\u30fc\u30c8\u30ec\u30b9\u3067\u5b9f\u884c\n   --prefer-bundled-bin                       (experimental) \u30db\u30b9\u30c8\u306e\u30d0\u30a4\u30ca\u30ea\u3088\u308a\u3082\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u30b9\u30da\u30fc\u30b9\u30d0\u30a4\u30ca\u30ea\u3092\u512a\u5148\n   --docker                                   (agent/runtime) (experimental) containerd\u306e\u4ee3\u308f\u308a\u306bcri-dockerd\u3092\u4f7f\u7528\n"})})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},28453:(e,n,d)=>{d.d(n,{R:()=>i,x:()=>t});var r=d(96540);const s={},l=r.createContext(s);function i(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);