<!doctype html>
<html lang="kr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/resource-profiling" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Resource Profiling | K3s</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.k3s.io/kr/reference/resource-profiling"><meta data-rh="true" property="og:locale" content="kr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="kr"><meta data-rh="true" name="docsearch:language" content="kr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Resource Profiling | K3s"><meta data-rh="true" name="description" content="This section captures the results of tests to determine minimum resource requirements for K3s."><meta data-rh="true" property="og:description" content="This section captures the results of tests to determine minimum resource requirements for K3s."><link data-rh="true" rel="icon" href="/kr/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.k3s.io/kr/reference/resource-profiling"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/reference/resource-profiling" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/zh/reference/resource-profiling" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/kr/reference/resource-profiling" hreflang="kr"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/reference/resource-profiling" hreflang="x-default"><link rel="stylesheet" href="/kr/assets/css/styles.9b35f8bb.css">
<script src="/kr/assets/js/runtime~main.5f2878cd.js" defer="defer"></script>
<script src="/kr/assets/js/main.92347a88.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="사이드바 열기/닫기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kr/"><div class="navbar__logo"><img src="/kr/img/k3s-logo-light.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/kr/img/k3s-logo-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="검색" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>한국어</a><ul class="dropdown__menu"><li><a href="/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li><li><a href="/kr/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="kr">한국어</a></li></ul></div><a href="https://github.com/k3s-io/k3s/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="밝은/어두운 모드 전환 (현재 모드: 밝은 모드)" aria-label="밝은/어두운 모드 전환 (현재 모드: 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/">K3s - Lightweight Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/architecture">아키텍처</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/quick-start">빠른 시작 가이드</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/kr/installation">설치</a><button aria-label="Expand sidebar category &#x27;설치&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/kr/datastore">클러스터 데이터 저장소</a><button aria-label="Expand sidebar category &#x27;클러스터 데이터 저장소&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/cluster-access">클러스터 접근</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/kr/upgrades">업그레이드</a><button aria-label="Expand sidebar category &#x27;업그레이드&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/storage">볼륨과 저장소</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/networking">네트워킹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/helm">헬름(Helm)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/advanced">고급 옵션 / 설정</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/faq">자주 묻는 질문</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/kr/cli">명령줄 도구</a><button aria-label="Expand sidebar category &#x27; 명령줄 도구&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/kr/reference">레퍼런스</a><button aria-label="Collapse sidebar category &#x27;레퍼런스&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kr/reference/env-variables">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kr/reference/resource-profiling">Resource Profiling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/kr/release-notes/v1.24.X">Release Notes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kr/known-issues">알려진 이슈</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/kr/security">보안</a><button aria-label="Expand sidebar category &#x27;보안&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="페이지 경로"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/kr/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/kr/reference"><span itemprop="name">레퍼런스</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Resource Profiling</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">목차 열기/닫기</button></div><div class="theme-doc-markdown markdown"><header><h1>Resource Profiling</h1></header><p>This section captures the results of tests to determine minimum resource requirements for K3s.</p>
<p>The results are summarized as follows:</p>
<table><thead><tr><th>Components</th><th>Processor</th><th>Min CPU</th><th>Min RAM with Kine/SQLite</th><th>Min RAM with Embedded etcd</th></tr></thead><tbody><tr><td>K3s server with a workload</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td><td>10% of a core</td><td>768 M</td><td>896 M</td></tr><tr><td>K3s cluster with a single agent</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td><td>10% of a core</td><td>512 M</td><td>768 M</td></tr><tr><td>K3s agent</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td><td>5% of a core</td><td>256 M</td><td>256 M</td></tr><tr><td>K3s server with a workload</td><td>Pi4B BCM2711, 1.50 GHz</td><td>20% of a core</td><td>768 M</td><td>896 M</td></tr><tr><td>K3s cluster with a single agent</td><td>Pi4B BCM2711, 1.50 GHz</td><td>20% of a core</td><td>512 M</td><td>768 M</td></tr><tr><td>K3s agent</td><td>Pi4B BCM2711, 1.50 GHz</td><td>10% of a core</td><td>256 M</td><td>256 M</td></tr></tbody></table>
<ul>
<li><a href="#scope-of-resource-testing">Scope of Resource Testing</a></li>
<li><a href="#components-included-for-baseline-measurements">Components Included for Baseline Measurements</a></li>
<li><a href="#methodology">Methodology</a></li>
<li><a href="#environment">Environment</a></li>
<li><a href="#baseline-resource-requirements">Baseline Resource Requirements</a>
<ul>
<li><a href="#k3s-server-with-a-workload">K3s Server with a Workload</a></li>
<li><a href="#k3s-cluster-with-a-single-agent">K3s Cluster with a Single Agent</a></li>
<li><a href="#k3s-agent">K3s Agent</a></li>
</ul>
</li>
<li><a href="#analysis">Analysis</a>
<ul>
<li><a href="#primary-resource-utilization-drivers">Primary Resource Utilization Drivers</a></li>
<li><a href="#preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore">Preventing Agents and Workloads from Interfering with the Cluster Datastore</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scope-of-resource-testing">Scope of Resource Testing<a href="#scope-of-resource-testing" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>The resource tests were intended to address the following problem statements:</p>
<ul>
<li>On a single-node cluster, determine the legitimate minimum amount of CPU, memory, and IOPs that should be set aside to run the entire K3s stack server stack, assuming that a real workload will be deployed on the cluster.</li>
<li>On an agent (worker) node, determine the legitimate minimum amount of CPU, memory, and IOPs that should be set aside for the Kubernetes and K3s control plane components (the kubelet and k3s agent).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="components-included-for-baseline-measurements">Components Included for Baseline Measurements<a href="#components-included-for-baseline-measurements" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>The tested components are:</p>
<ul>
<li>K3s 1.19.2 with all packaged components enabled</li>
<li>Prometheus + Grafana monitoring stack</li>
<li>Kubernetes Example PHP Guestbook app</li>
</ul>
<p>These are baseline figures for a stable system using only K3s packaged components (Traefik Ingress, Klipper lb, local-path storage) running a standard monitoring stack (Prometheus and Grafana) and the Guestbook example app.</p>
<p>Resource figures including IOPS are for the Kubernetes datastore and control plane only, and do not include overhead for system-level management agents or logging, container image management, or any workload-specific requirements.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methodology">Methodology<a href="#methodology" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>A standalone instance of Prometheus v2.21.0 was used to collect host CPU, memory, and disk IO statistics using <code>prometheus-node-exporter</code> installed via apt.</p>
<p><code>systemd-cgtop</code> was used to spot-check systemd cgroup-level CPU and memory utilization. <code>system.slice/k3s.service</code> tracks resource utilization for both K3s and containerd, while individual pods are under the <code>kubepods</code> hierarchy.</p>
<p>Additional detailed K3s memory utilization data was collected from the <code>process_resident_memory_bytes</code> and <code>go_memstats_alloc_bytes</code> metrics using the kubelet exporter integrated into the server and agent processes.</p>
<p>Utilization figures were based on 95th percentile readings from steady state operation on nodes running the described workloads.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>OS: Ubuntu 20.04 x86_64, aarch64</p>
<p>Hardware:</p>
<ul>
<li>AWS c5d.xlarge - 4 core, 8 GB RAM, NVME SSD</li>
<li>Raspberry Pi 4 Model B - 4 core, 8 GB RAM, Class 10 SDHC</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="baseline-resource-requirements">Baseline Resource Requirements<a href="#baseline-resource-requirements" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>This section captures the results of tests to determine minimum resource requirements for the K3s agent, the K3s server with a workload, and the K3s server with one agent.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-server-with-a-workload">K3s Server with a Workload<a href="#k3s-server-with-a-workload" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h3>
<p>These are the requirements for a single-node cluster in which the K3s server shares resources with a workload.</p>
<p>The CPU requirements are:</p>
<table><thead><tr><th>Resource Requirement</th><th>Tested Processor</th></tr></thead><tbody><tr><td>10% of a core</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td></tr><tr><td>20% of a core</td><td>Low-power processor such as Pi4B BCM2711, 1.50 GHz</td></tr></tbody></table>
<p>The IOPS and memory requirements are:</p>
<table><thead><tr><th>Tested Datastore</th><th>IOPS</th><th>KiB/sec</th><th>Latency</th><th>RAM</th></tr></thead><tbody><tr><td>Kine/SQLite</td><td>10</td><td>500</td><td>&lt; 10 ms</td><td>768 M</td></tr><tr><td>Embedded etcd</td><td>50</td><td>250</td><td>&lt; 5 ms</td><td>896 M</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-cluster-with-a-single-agent">K3s Cluster with a Single Agent<a href="#k3s-cluster-with-a-single-agent" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h3>
<p>These are the baseline requirements for a K3s cluster with a K3s server node and a K3s agent, but no workload.</p>
<p>The CPU requirements are:</p>
<table><thead><tr><th>Resource Requirement</th><th>Tested Processor</th></tr></thead><tbody><tr><td>10% of a core</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td></tr><tr><td>20% of a core</td><td>Pi4B BCM2711, 1.50 GHz</td></tr></tbody></table>
<p>The IOPS and memory requirements are:</p>
<table><thead><tr><th>Datastore</th><th>IOPS</th><th>KiB/sec</th><th>Latency</th><th>RAM</th></tr></thead><tbody><tr><td>Kine/SQLite</td><td>10</td><td>500</td><td>&lt; 10 ms</td><td>512 M</td></tr><tr><td>Embedded etcd</td><td>50</td><td>250</td><td>&lt; 5 ms</td><td>768 M</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-agent">K3s Agent<a href="#k3s-agent" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h3>
<p>The CPU requirements are:</p>
<table><thead><tr><th>Resource Requirement</th><th>Tested Processor</th></tr></thead><tbody><tr><td>5% of a core</td><td>Intel(R) Xeon(R) Platinum 8124M CPU, 3.00 GHz</td></tr><tr><td>10% of a core</td><td>Pi4B BCM2711, 1.50 GHz</td></tr></tbody></table>
<p>256 M of RAM is required.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analysis">Analysis<a href="#analysis" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h2>
<p>This section captures what has the biggest impact on K3s server and agent utilization, and how the cluster datastore can be protected from interference from agents and workloads.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="primary-resource-utilization-drivers">Primary Resource Utilization Drivers<a href="#primary-resource-utilization-drivers" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h3>
<p>K3s server utilization figures are primarily driven by support of the Kubernetes datastore (kine or etcd), API Server, Controller-Manager, and Scheduler control loops, as well as any management tasks necessary to effect changes to the state of the system. Operations that place additional load on the Kubernetes control plane, such as creating/modifying/deleting resources, will cause temporary spikes in utilization. Using operators or apps that make extensive use of the Kubernetes datastore (such as Rancher or other Operator-type applications) will increase the server&#x27;s resource requirements. Scaling up the cluster by adding additional nodes or creating many cluster resources will increase the server&#x27;s resource requirements.</p>
<p>K3s agent utilization figures are primarily driven by support of container lifecycle management control loops. Operations that involve managing images, provisioning storage, or creating/destroying containers will cause temporary spikes in utilization. Image pulls in particular are typically highly CPU and IO bound, as they involve decompressing image content to disk. If possible, workload storage (pod ephemeral storage and volumes) should be isolated from the agent components (/var/lib/rancher/k3s/agent) to ensure that there are no resource conflicts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore">Preventing Agents and Workloads from Interfering with the Cluster Datastore<a href="#preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore" class="hash-link" aria-label="제목에 대한 직접 링크" title="제목에 대한 직접 링크">​</a></h3>
<p>When running in an environment where the server is also hosting workload pods, care should be taken to ensure that agent and workload IOPS do not interfere with the datastore.</p>
<p>This can be best accomplished by placing the server components (/var/lib/rancher/k3s/server) on a different storage medium than the agent components (/var/lib/rancher/k3s/agent), which include the containerd image store.</p>
<p>Workload storage (pod ephemeral storage and volumes) should also be isolated from the datastore.</p>
<p>Failure to meet datastore throughput and latency requirements may result in delayed response from the control plane and/or failure of the control plane to maintain system state.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/k3s-io/docs/edit/main/docs/reference/resource-profiling.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>이 페이지 편집</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">마지막 <b><time datetime="2023-11-20T19:51:07.000Z">Nov 20, 2023</time></b>에<!-- --> 업데이트</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 네비게이션"><a class="pagination-nav__link pagination-nav__link--prev" href="/kr/reference/env-variables"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">Environment Variables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kr/release-notes/v1.24.X"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">v1.24.X</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scope-of-resource-testing" class="table-of-contents__link toc-highlight">Scope of Resource Testing</a></li><li><a href="#components-included-for-baseline-measurements" class="table-of-contents__link toc-highlight">Components Included for Baseline Measurements</a></li><li><a href="#methodology" class="table-of-contents__link toc-highlight">Methodology</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#baseline-resource-requirements" class="table-of-contents__link toc-highlight">Baseline Resource Requirements</a><ul><li><a href="#k3s-server-with-a-workload" class="table-of-contents__link toc-highlight">K3s Server with a Workload</a></li><li><a href="#k3s-cluster-with-a-single-agent" class="table-of-contents__link toc-highlight">K3s Cluster with a Single Agent</a></li><li><a href="#k3s-agent" class="table-of-contents__link toc-highlight">K3s Agent</a></li></ul></li><li><a href="#analysis" class="table-of-contents__link toc-highlight">Analysis</a><ul><li><a href="#primary-resource-utilization-drivers" class="table-of-contents__link toc-highlight">Primary Resource Utilization Drivers</a></li><li><a href="#preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore" class="table-of-contents__link toc-highlight">Preventing Agents and Workloads from Interfering with the Cluster Datastore</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 K3s Project Authors. All rights reserved. <br>The Linux Foundation has registered trademarks
      and uses trademarks. For a list of trademarks of The Linux Foundation, 
      please see our <a href="https://www.linuxfoundation.org/trademark-usage"> Trademark Usage</a> page.</div></div></div></footer></div>
</body>
</html>