"use strict";(self.webpackChunkk_3_s_docs=self.webpackChunkk_3_s_docs||[]).push([[2524],{3496:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"known-issues","title":"\uc54c\ub824\uc9c4 \uc774\uc288","description":"\uc54c\ub824\uc9c4 \uc774\uc288\ub294 \uc8fc\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uba70, \ub2e4\uc74c \ub9b4\ub9ac\uc2a4\uc5d0\uc11c \uc989\uc2dc \ud574\uacb0\ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\ub294 \ubb38\uc81c\uc5d0 \ub300\ud574 \uc54c\ub824\ub4dc\ub9ac\uae30 \uc704\ud574 \uace0\uc548\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","source":"@site/i18n/kr/docusaurus-plugin-content-docs/current/known-issues.md","sourceDirName":".","slug":"/known-issues","permalink":"/kr/known-issues","draft":false,"unlisted":false,"editUrl":"https://github.com/k3s-io/docs/edit/main/docs/known-issues.md","tags":[],"version":"current","lastUpdatedAt":1743700129000,"frontMatter":{"title":"\uc54c\ub824\uc9c4 \uc774\uc288"},"sidebar":"mySidebar","previous":{"title":"Related Projects","permalink":"/kr/related-projects"},"next":{"title":"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38","permalink":"/kr/faq"}}');var i=n(4848),t=n(8453);const o={title:"\uc54c\ub824\uc9c4 \uc774\uc288"},a=void 0,c={},l=[{value:"\uc2a4\ub0c5(Snap) \ub3c4\ucee4",id:"\uc2a4\ub0c5snap-\ub3c4\ucee4",level:3},{value:"Iptables",id:"iptables",level:3},{value:"Rootless Mode",id:"rootless-mode",level:3}];function d(e){const s={a:"a",code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"\uc54c\ub824\uc9c4 \uc774\uc288\ub294 \uc8fc\uae30\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uba70, \ub2e4\uc74c \ub9b4\ub9ac\uc2a4\uc5d0\uc11c \uc989\uc2dc \ud574\uacb0\ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\ub294 \ubb38\uc81c\uc5d0 \ub300\ud574 \uc54c\ub824\ub4dc\ub9ac\uae30 \uc704\ud574 \uace0\uc548\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.h3,{id:"\uc2a4\ub0c5snap-\ub3c4\ucee4",children:"\uc2a4\ub0c5(Snap) \ub3c4\ucee4"}),"\n",(0,i.jsx)(s.p,{children:"\uc2a4\ub0c5(Snap) \ud328\ud0a4\uc9c0\ub97c \ud1b5\ud574 \uc124\uce58\ub41c \ub3c4\ucee4\ub294 K3s\ub97c \uc2e4\ud589\ud558\ub294 \ub370 \ubb38\uc81c\ub97c \uc77c\uc73c\ud0a4\ub294 \uac83\uc73c\ub85c \uc54c\ub824\uc838 \uc788\uc73c\ubbc0\ub85c K3s\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud558\ub824\ub294 \uacbd\uc6b0 \uad8c\uc7a5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.h3,{id:"iptables",children:"Iptables"}),"\n",(0,i.jsx)(s.p,{children:"\ub808\uac70\uc2dc \ub300\uc2e0 nftables \ubaa8\ub4dc\uc5d0\uc11c iptables\ub97c \uc2e4\ud589\ud558\ub294 \uacbd\uc6b0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubb38\uc81c\ub97c \ubc29\uc9c0\ud558\ub824\uba74 \ucd5c\uc2e0 \ubc84\uc804(\uc608: 1.6.1+)\uc758 iptables\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(s.p,{children:["\ub610\ud55c 1.8.0-1.8.4 \ubc84\uc804\uc5d0\ub294 K3s\uac00 \uc2e4\ud328\ud560 \uc218 \uc788\ub294 \uc54c\ub824\uc9c4 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud574\uacb0 \ubc29\ubc95\uc740 ",(0,i.jsx)(s.a,{href:"/kr/advanced#%EC%9D%B4%EC%A0%84-iptables-%EB%B2%84%EC%A0%84",children:"\ucd94\uac00 OS \uc900\ube44"}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,i.jsx)(s.h3,{id:"rootless-mode",children:"Rootless Mode"}),"\n",(0,i.jsxs)(s.p,{children:["\ub8e8\ud2b8\ub9ac\uc2a4 \ubaa8\ub4dc\ub85c K3s\ub97c \uc2e4\ud589\ud558\ub294 \uac83\uc740 \uc2e4\ud5d8 \uc911\uc774\uba70 \uba87 \uac00\uc9c0 ",(0,i.jsx)(s.a,{href:"/kr/advanced#known-issues-with-rootless-mode",children:"\uc54c\ub824\uc9c4 \uc774\uc288"}),"\uac00 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.h1,{id:"\uac15\ud654\ub41chardened-\ud074\ub7ec\uc2a4\ud130\ub97c-v124x\uc5d0\uc11c-v125x\ub85c-\uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uae30",children:"\uac15\ud654\ub41c(Hardened) \ud074\ub7ec\uc2a4\ud130\ub97c v1.24.x\uc5d0\uc11c v1.25.x\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uae30"}),"\n",(0,i.jsxs)(s.p,{children:["\ucfe0\ubc84\ub124\ud2f0\uc2a4\ub294 \ud30c\ub4dc \ubcf4\uc548 \ud45c\uc900(PSS, Pod Security Standards)\uc744 \uc704\ud574 v1.25\uc5d0\uc11c PodSecurityPolicy\ub97c \uc81c\uac70\ud588\uc2b5\ub2c8\ub2e4. PSS\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,i.jsx)(s.a,{href:"https://kubernetes.io/ko/docs/concepts/security/pod-security-standards/",children:"\uc5c5\uc2a4\ud2b8\ub9bc \ubb38\uc11c"}),"\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. K3S\uc758 \uacbd\uc6b0, \ub178\ub4dc\uc5d0 'PodSecurityPolicy'\uac00 \uad6c\uc131\ub41c \uacbd\uc6b0 \uc218\ud589\ud574\uc57c \ud558\ub294 \uba87 \uac00\uc9c0 \uc218\ub3d9 \ub2e8\uacc4\uac00 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\ubaa8\ub4e0 \ub178\ub4dc\uc5d0\uc11c ",(0,i.jsx)(s.code,{children:"kube-apiserver-arg"})," \uac12\uc744 \uc5c5\ub370\uc774\ud2b8\ud558\uc5ec ",(0,i.jsx)(s.code,{children:"PodSecurityPolicy"})," \uc5b4\ub4dc\ubbf8\uc158 \ud50c\ub7ec\uadf8\uc778\uc744 \uc81c\uac70\ud569\ub2c8\ub2e4. \ub300\uc2e0 \ub2e4\uc74c arg \uac12\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4: ",(0,i.jsx)(s.code,{children:"'admission-control-config-file=/var/lib/rancher/k3s/server/psa.yaml'"})," \uc774\uc9c0\ub9cc, \uc544\uc9c1 K3S\ub97c \uc7ac\uc2dc\uc791\ud558\uac70\ub098 \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uc9c0 \ub9c8\uc2ed\uc2dc\uc624. \uc544\ub798\ub294 \ub178\ub4dc\ub97c \uac15\ud654\ud55c \ud6c4 \uad6c\uc131 \ud30c\uc77c\uc758 \uc608\uc2dc\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:'protect-kernel-defaults: true\nsecrets-encryption: true\nkube-apiserver-arg:\n  - "admission-control-config-file=/var/lib/rancher/k3s/server/psa.yaml"\n  - "audit-log-path=/var/lib/rancher/k3s/server/logs/audit.log"\n  - "audit-policy-file=/var/lib/rancher/k3s/server/audit.yaml"\n  - "audit-log-maxage=30"\n  - "audit-log-maxbackup=10"\n  - "audit-log-maxsize=100"\nkube-controller-manager-arg:\n  - "terminated-pod-gc-threshold=10"\n  - "use-service-account-credentials=true"\nkubelet-arg:\n  - "streaming-connection-idle-timeout=5m"\n  - "make-iptables-util-chains=true"\n'})}),"\n",(0,i.jsxs)(s.ol,{start:"2",children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/var/lib/rancher/k3s/server/psa.yaml"})," \ud30c\uc77c\uc744 \ub2e4\uc74c \ub0b4\uc6a9\uc73c\ub85c \uc791\uc131\ud569\ub2c8\ub2e4. \ub354 \ub9ce\uc740 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub97c \uc81c\uc678\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub798 \uc608\uc2dc\ub294 ",(0,i.jsx)(s.code,{children:"kube-system"}),"(\ud544\uc218), ",(0,i.jsx)(s.code,{children:"cis-operator-system"}),"(\uc120\ud0dd\uc801\uc774\uc9c0\ub9cc Rancher\ub97c \ud1b5\ud574 \ubcf4\uc548 \uc2a4\uce94\uc744 \uc2e4\ud589\ud560 \ub54c \uc720\uc6a9), ",(0,i.jsx)(s.code,{children:"system-upgrade"}),"(\uc790\ub3d9 \uc5c5\uadf8\ub808\uc774\ub4dc\ub97c \uc218\ud589\ud558\ub294 \uacbd\uc6b0 \ud544\uc218)\uc744 \uc81c\uc678\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:'apiVersion: apiserver.config.k8s.io/v1\nkind: AdmissionConfiguration\nplugins:\n  - name: PodSecurity\n    configuration:\n      apiVersion: pod-security.admission.config.k8s.io/v1beta1\n      kind: PodSecurityConfiguration\n      defaults:\n        enforce: "restricted"\n        enforce-version: "latest"\n        audit: "restricted"\n        audit-version: "latest"\n        warn: "restricted"\n        warn-version: "latest"\n      exemptions:\n        usernames: []\n        runtimeClasses: []\n        namespaces: [kube-system, cis-operator-system, system-upgrade]\n'})}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsxs)(s.li,{children:["\uc77c\ubc18\uc801\uc73c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\ub97c \uc218\ud589\ud569\ub2c8\ub2e4. ",(0,i.jsx)(s.a,{href:"/kr/upgrades/automated",children:"\uc790\ub3d9 \uc5c5\uadf8\ub808\uc774\ub4dc"}),"\ub97c \uc218\ud589\ud558\ub294 \uacbd\uc6b0 ",(0,i.jsx)(s.code,{children:"system-upgrade-controller"}),"\uac00 \uc2e4\ud589\ub418\ub294 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uac00 ",(0,i.jsx)(s.a,{href:"https://kubernetes.io/docs/concepts/security/pod-security-admission/#pod-security-levels",children:"\ud30c\ub4dc \ubcf4\uc548 \uc218\uc900"}),"\uc5d0 \ub530\ub77c \uad8c\ud55c\uc774 \ubd80\uc5ec\ub41c \uac83\uc73c\ub85c \uc124\uc815\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: system-upgrade\n  labels:\n    # This value must be privileged for the controller to run successfully.\n    pod-security.kubernetes.io/enforce: privileged\n    pod-security.kubernetes.io/enforce-version: v1.25\n    # We are setting these to our _desired_ `enforce` level, but note that these below values can be any of the available options.\n    pod-security.kubernetes.io/audit: privileged\n    pod-security.kubernetes.io/audit-version: v1.25\n    pod-security.kubernetes.io/warn: privileged\n    pod-security.kubernetes.io/warn-version: v1.25\n"})}),"\n",(0,i.jsxs)(s.ol,{start:"4",children:["\n",(0,i.jsxs)(s.li,{children:["\uc5c5\uadf8\ub808\uc774\ub4dc\uac00 \uc644\ub8cc\ub41c \ud6c4, \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \ub0a8\uc544\uc788\ub294 \ubaa8\ub4e0 PSP \ub9ac\uc18c\uc2a4\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4. \ub300\ubd80\ubd84\uc758 \uacbd\uc6b0, ",(0,i.jsx)(s.code,{children:"/var/lib/rancher/k3s/server/manifests/"})," \ub0b4\ubd80\uc5d0\uc11c \uac15\ud654\ub97c \uc704\ud574 \uc0ac\uc6a9\ub41c \uc0ac\uc6a9\uc790 \uc815\uc758 \ud30c\uc77c\uc5d0\ub294 PodSecurityPolicies \ubc0f \uad00\ub828 RBAC \ub9ac\uc18c\uc2a4\uac00 \uc788\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ub9ac\uc18c\uc2a4\ub97c \uc81c\uac70\ud558\uba74 k3s\uac00 \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub429\ub2c8\ub2e4. \ub54c\ub54c\ub85c \uc2dc\uac04\uc774 \uc9c0\ub09c \ud6c4\uc5d0 \uc774\ub7ec\ud55c \ub9ac\uc18c\uc2a4\uac00 \ud074\ub7ec\uc2a4\ud130\uc5d0 \ub0a8\uc544\uc788\uc744 \uc218 \uc788\uc73c\ubbc0\ub85c \uc218\ub3d9\uc73c\ub85c \uc0ad\uc81c\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774\uc804\uc5d0 ",(0,i.jsx)(s.a,{href:"/kr/security/hardening-guide",children:"\uac15\ud654 \uac00\uc774\ub4dc"}),"\ub97c \ub530\ub974\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-sh",children:"# Get the resources associated with PSPs\n$ kubectl get roles,clusterroles,rolebindings,clusterrolebindings -A | grep -i psp\n\n# Delete those resources:\n$ kubectl delete clusterrole.rbac.authorization.k8s.io/psp:restricted-psp clusterrole.rbac.authorization.k8s.io/psp:svclb-psp clusterrole.rbac.authorization.k8s.io/psp:system-unrestricted-psp clusterrolebinding.rbac.authorization.k8s.io/default:restricted-psp clusterrolebinding.rbac.authorization.k8s.io/system-unrestricted-node-psp-rolebinding && kubectl delete -n kube-system rolebinding.rbac.authorization.k8s.io/svclb-psp-rolebinding rolebinding.rbac.authorization.k8s.io/system-unrestricted-svc-acct-psp-rolebinding\n"})})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);