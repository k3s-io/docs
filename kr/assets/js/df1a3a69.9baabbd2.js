"use strict";(self.webpackChunkk_3_s_docs=self.webpackChunkk_3_s_docs||[]).push([[6153],{8246:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>a});var r=s(5893),i=s(1151);const c={title:"\uace0\uae09 \uc635\uc158 / \uc124\uc815",aliases:["/k3s/latest/kr/running/","/k3s/latest/kr/configuration/"]},l=void 0,d={id:"advanced",title:"\uace0\uae09 \uc635\uc158 / \uc124\uc815",description:"\uc774 \uc139\uc158\uc5d0\ub294 K3s\ub97c \uc2e4\ud589\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uacfc K3s \uc0ac\uc6a9\uc744 \uc704\ud574 \ud638\uc2a4\ud2b8 OS\ub97c \uc900\ube44\ud558\ub294 \ub370 \ud544\uc694\ud55c \ub2e8\uacc4\ub97c \uc124\uba85\ud558\ub294 \uace0\uae09 \uc815\ubcf4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",source:"@site/i18n/kr/docusaurus-plugin-content-docs/current/advanced.md",sourceDirName:".",slug:"/advanced",permalink:"/kr/advanced",draft:!1,unlisted:!1,editUrl:"https://github.com/k3s-io/docs/edit/main/docs/advanced.md",tags:[],version:"current",lastUpdatedAt:1729544176e3,frontMatter:{title:"\uace0\uae09 \uc635\uc158 / \uc124\uc815",aliases:["/k3s/latest/kr/running/","/k3s/latest/kr/configuration/"]},sidebar:"mySidebar",previous:{title:"\ud5ec\ub984(Helm)",permalink:"/kr/helm"},next:{title:"Environment Variables",permalink:"/kr/reference/env-variables"}},t={},a=[{value:"\uc778\uc99d\uc11c \uad00\ub9ac",id:"\uc778\uc99d\uc11c-\uad00\ub9ac",level:2},{value:"\uc778\uc99d \uae30\uad00 \uc778\uc99d\uc11c",id:"\uc778\uc99d-\uae30\uad00-\uc778\uc99d\uc11c",level:3},{value:"\ud074\ub77c\uc774\uc5b8\ud2b8 \ubc0f \uc11c\ubc84 \uc778\uc99d\uc11c",id:"\ud074\ub77c\uc774\uc5b8\ud2b8-\ubc0f-\uc11c\ubc84-\uc778\uc99d\uc11c",level:3},{value:"\ud1a0\ud070 \uad00\ub9ac",id:"\ud1a0\ud070-\uad00\ub9ac",level:2},{value:"HTTP \ud504\ub85d\uc2dc \uad6c\uc131\ud558\uae30",id:"http-\ud504\ub85d\uc2dc-\uad6c\uc131\ud558\uae30",level:2},{value:"\ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc73c\ub85c Docker \uc0ac\uc6a9",id:"\ucee8\ud14c\uc774\ub108-\ub7f0\ud0c0\uc784\uc73c\ub85c-docker-\uc0ac\uc6a9",level:2},{value:"etcdctl \uc0ac\uc6a9\ud558\uae30",id:"etcdctl-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"\ucee8\ud14c\uc774\ub108 \uc124\uc815\ud558\uae30",id:"\ucee8\ud14c\uc774\ub108-\uc124\uc815\ud558\uae30",level:2},{value:"NVIDIA \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784 \uc9c0\uc6d0",id:"nvidia-\ucee8\ud14c\uc774\ub108-\ub7f0\ud0c0\uc784-\uc9c0\uc6d0",level:2},{value:"\uc5d0\uc774\uc804\ud2b8 \uc5c6\ub294 \uc11c\ubc84 \uc2e4\ud589\ud558\uae30(\uc2e4\ud5d8\uc801)",id:"\uc5d0\uc774\uc804\ud2b8-\uc5c6\ub294-\uc11c\ubc84-\uc2e4\ud589\ud558\uae30\uc2e4\ud5d8\uc801",level:2},{value:"\ub8e8\ud2b8\ub9ac\uc2a4 \uc11c\ubc84 \uc2e4\ud589(\uc2e4\ud5d8\uc801)",id:"\ub8e8\ud2b8\ub9ac\uc2a4-\uc11c\ubc84-\uc2e4\ud589\uc2e4\ud5d8\uc801",level:2},{value:"\ub8e8\ud2b8\ub9ac\uc2a4 \ubaa8\ub4dc\uc758 \uc54c\ub824\uc9c4 \uc774\uc288",id:"\ub8e8\ud2b8\ub9ac\uc2a4-\ubaa8\ub4dc\uc758-\uc54c\ub824\uc9c4-\uc774\uc288",level:3},{value:"\ub8e8\ud2b8\ub9ac\uc2a4 \uc11c\ubc84 \uc2dc\uc791\ud558\uae30",id:"\ub8e8\ud2b8\ub9ac\uc2a4-\uc11c\ubc84-\uc2dc\uc791\ud558\uae30",level:3},{value:"\uace0\uae09 \ub8e8\ud2b8\ub9ac\uc2a4 \uad6c\uc131",id:"\uace0\uae09-\ub8e8\ud2b8\ub9ac\uc2a4-\uad6c\uc131",level:3},{value:"\ub8e8\ud2b8\ub9ac\uc2a4 \ubb38\uc81c \ud574\uacb0\ud558\uae30",id:"\ub8e8\ud2b8\ub9ac\uc2a4-\ubb38\uc81c-\ud574\uacb0\ud558\uae30",level:3},{value:"\ub178\ub4dc \ub808\uc774\ube14 \ubc0f \ud14c\uc778\ud2b8",id:"\ub178\ub4dc-\ub808\uc774\ube14-\ubc0f-\ud14c\uc778\ud2b8",level:2},{value:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub85c \uc11c\ube44\uc2a4 \uc2dc\uc791\ud558\uae30",id:"\uc124\uce58-\uc2a4\ud06c\ub9bd\ud2b8\ub85c-\uc11c\ube44\uc2a4-\uc2dc\uc791\ud558\uae30",level:2},{value:"\ucd94\uac00 OS \uc900\ube44 \uc0ac\ud56d",id:"\ucd94\uac00-os-\uc900\ube44-\uc0ac\ud56d",level:2},{value:"\uc774\uc804 iptables \ubc84\uc804",id:"\uc774\uc804-iptables-\ubc84\uc804",level:3},{value:"Red Hat Enterprise Linux / CentOS",id:"red-hat-enterprise-linux--centos",level:3},{value:"Ubuntu",id:"ubuntu",level:3},{value:"Raspberry Pi",id:"raspberry-pi",level:3},{value:"Docker\uc5d0\uc11c k3s \uc2e4\ud589\ud558\uae30",id:"docker\uc5d0\uc11c-k3s-\uc2e4\ud589\ud558\uae30",level:2},{value:"SELinux \uc9c0\uc6d0",id:"selinux-\uc9c0\uc6d0",level:2},{value:"SELinux \uc801\uc6a9 \ud65c\uc131\ud654\ud558\uae30",id:"selinux-\uc801\uc6a9-\ud65c\uc131\ud654\ud558\uae30",level:3},{value:"\uc9c0\uc5f0 \ud480\ub9c1\uc758 \uc9c0\uc5f0 \ud480\ub9c1 \ud65c\uc131\ud654 (\uc2e4\ud5d8\uc801)",id:"\uc9c0\uc5f0-\ud480\ub9c1\uc758-\uc9c0\uc5f0-\ud480\ub9c1-\ud65c\uc131\ud654-\uc2e4\ud5d8\uc801",level:2},{value:"\uc9c0\uc5f0 \ud480\ub9c1\uacfc eStargz\ub780 \ubb34\uc5c7\uc778\uac00\uc694?",id:"\uc9c0\uc5f0-\ud480\ub9c1\uacfc-estargz\ub780-\ubb34\uc5c7\uc778\uac00\uc694",level:3},{value:"\uc9c0\uc5f0 \ud480\ub9c1\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d k3s \uad6c\uc131\ud558\uae30",id:"\uc9c0\uc5f0-\ud480\ub9c1\uc774-\uac00\ub2a5\ud558\ub3c4\ub85d-k3s-\uad6c\uc131\ud558\uae30",level:3},{value:"\ucd94\uac00 \ub85c\uae45 \uc18c\uc2a4",id:"\ucd94\uac00-\ub85c\uae45-\uc18c\uc2a4",level:2},{value:"\ucd94\uac00 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \ub85c\uae45",id:"\ucd94\uac00-\ub124\ud2b8\uc6cc\ud06c-\uc815\ucc45-\ub85c\uae45",level:2}];function o(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{TabItem:s,Tabs:c}=n;return s||x("TabItem",!0),c||x("Tabs",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"\uc774 \uc139\uc158\uc5d0\ub294 K3s\ub97c \uc2e4\ud589\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uacfc K3s \uc0ac\uc6a9\uc744 \uc704\ud574 \ud638\uc2a4\ud2b8 OS\ub97c \uc900\ube44\ud558\ub294 \ub370 \ud544\uc694\ud55c \ub2e8\uacc4\ub97c \uc124\uba85\ud558\ub294 \uace0\uae09 \uc815\ubcf4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"\uc778\uc99d\uc11c-\uad00\ub9ac",children:"\uc778\uc99d\uc11c \uad00\ub9ac"}),"\n",(0,r.jsx)(n.h3,{id:"\uc778\uc99d-\uae30\uad00-\uc778\uc99d\uc11c",children:"\uc778\uc99d \uae30\uad00 \uc778\uc99d\uc11c"}),"\n",(0,r.jsx)(n.p,{children:"K3s\ub294 \uccab \ubc88\uc9f8 \uc11c\ubc84 \ub178\ub4dc\ub97c \uc2dc\uc791\ud558\ub294 \ub3d9\uc548 \uc790\uccb4 \uc11c\uba85\ub41c CA(\uc778\uc99d \uae30\uad00) \uc778\uc99d\uc11c\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc774 CA \uc778\uc99d\uc11c\ub294 10\ub144 \ub3d9\uc548 \uc720\ud6a8\ud558\uba70 \uc790\ub3d9\uc73c\ub85c \uac31\uc2e0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\uc0ac\uc6a9\uc790 \uc9c0\uc815 CA \uc778\uc99d\uc11c \uc0ac\uc6a9 \ub610\ub294 \uc790\uccb4 \uc11c\uba85 CA \uc778\uc99d\uc11c \uac31\uc2e0\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsxs)(n.a,{href:"/kr/cli/certificate#certificate-authority-ca-certificates",children:[(0,r.jsx)(n.code,{children:"k3s \uc778\uc99d\uc11c rotate-ca"})," \uba85\ub839 \uc124\uba85\uc11c"]}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h3,{id:"\ud074\ub77c\uc774\uc5b8\ud2b8-\ubc0f-\uc11c\ubc84-\uc778\uc99d\uc11c",children:"\ud074\ub77c\uc774\uc5b8\ud2b8 \ubc0f \uc11c\ubc84 \uc778\uc99d\uc11c"}),"\n",(0,r.jsx)(n.p,{children:"K3s \ud074\ub77c\uc774\uc5b8\ud2b8 \ubc0f \uc11c\ubc84 \uc778\uc99d\uc11c\ub294 \ubc1c\uae09\ud55c \ub0a0\ub85c\ubd80\ud130 365\uc77c \ub3d9\uc548 \uc720\ud6a8\ud569\ub2c8\ub2e4. \ub9cc\ub8cc\ub418\uc5c8\uac70\ub098 \ub9cc\ub8cc \ud6c4 90\uc77c \uc774\ub0b4\uc5d0 \ub9cc\ub8cc\ub41c \uc778\uc99d\uc11c\ub294 K3s\ub97c \uc2dc\uc791\ud560 \ub54c\ub9c8\ub2e4 \uc790\ub3d9\uc73c\ub85c \uac31\uc2e0\ub429\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\ud074\ub77c\uc774\uc5b8\ud2b8 \ubc0f \uc11c\ubc84 \uc778\uc99d\uc11c\ub97c \uc218\ub3d9\uc73c\ub85c \ub85c\ud14c\uc774\uc158\ud558\ub294 \uac83\uc5d0 \ub300\ud55c \uc815\ubcf4\ub294 ",(0,r.jsxs)(n.a,{href:"/kr/cli/certificate#client-and-server-certificates",children:[(0,r.jsx)(n.code,{children:"k3s \uc778\uc99d\uc11c \ub85c\ud14c\uc774\uc158"})," \uba85\ub839 \uc124\uba85\uc11c"]}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h2,{id:"\ud1a0\ud070-\uad00\ub9ac",children:"\ud1a0\ud070 \uad00\ub9ac"}),"\n",(0,r.jsxs)(n.p,{children:["\uae30\ubcf8\uc801\uc73c\ub85c K3s\ub294 \uc11c\ubc84\uc640 \uc5d0\uc774\uc804\ud2b8 \ubaa8\ub450\uc5d0 \ub2e8\uc77c \uc815\uc801 \ud1a0\ud070\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc774 \ud1a0\ud070\uc740 \ud074\ub7ec\uc2a4\ud130\uac00 \uc0dd\uc131\ub41c \ud6c4\uc5d0\ub294 \ubcc0\uacbd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\uc5d0\uc774\uc804\ud2b8 \uc870\uc778\uc5d0\ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub450 \ubc88\uc9f8 \uc815\uc801 \ud1a0\ud070\uc744 \ud65c\uc131\ud654\ud558\uac70\ub098 \uc790\ub3d9\uc73c\ub85c \ub9cc\ub8cc\ub418\ub294 \uc784\uc2dc ",(0,r.jsx)(n.code,{children:"kubeadm"})," \uc2a4\ud0c0\uc77c \uc870\uc778 \ud1a0\ud070\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsxs)(n.a,{href:"/kr/cli/token",children:[(0,r.jsx)(n.code,{children:"k3s token"})," \uba85\ub839\uc5b4 \uc124\uba85\uc11c"]}),"\ub97c \ucc38\uace0\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h2,{id:"http-\ud504\ub85d\uc2dc-\uad6c\uc131\ud558\uae30",children:"HTTP \ud504\ub85d\uc2dc \uad6c\uc131\ud558\uae30"}),"\n",(0,r.jsx)(n.p,{children:"HTTP \ud504\ub85d\uc2dc\ub97c \ud1b5\ud574\uc11c\ub9cc \uc678\ubd80\uc640 \uc5f0\uacb0\ud560 \uc218 \uc788\ub294 \ud658\uacbd\uc5d0\uc11c K3s\ub97c \uc2e4\ud589\ud558\ub294 \uacbd\uc6b0, K3s \uc2dc\uc2a4\ud15c\ub4dc \uc11c\ube44\uc2a4\uc5d0\uc11c \ud504\ub85d\uc2dc \uc124\uc815\uc744 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7ec\uba74 \uc774 \ud504\ub85d\uc2dc \uc124\uc815\uc774 K3s\uc5d0\uc11c \uc0ac\uc6a9\ub418\uc5b4 \ub0b4\uc7a5 \ucee8\ud14c\uc774\ub108\uc640 kubelet\uc5d0 \uc804\ub2ec\ub429\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["K3s \uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub294 \uc790\ub3d9\uc73c\ub85c \ud604\uc7ac \uc178\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"HTTP_PROXY"}),", ",(0,r.jsx)(n.code,{children:"HTTPS_PROXY"})," \ubc0f ",(0,r.jsx)(n.code,{children:"NO_PROXY"})," \ubcc0\uc218\uc640 ",(0,r.jsx)(n.code,{children:"CONTAINERD_HTTP_PROXY"}),", ",(0,r.jsx)(n.code,{children:"CONTAINERD_HTTPS_PROXY"})," \ubc0f ",(0,r.jsx)(n.code,{children:"CONTAINERD_NO_PROXY"})," \ubcc0\uc218\uac00 \uc788\ub294 \uacbd\uc6b0 \uc774\ub97c systemd \uc11c\ube44\uc2a4\uc758 \ud658\uacbd \ud30c\uc77c\uc5d0 \uc791\uc131\ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/etc/systemd/system/k3s.service.env"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"/etc/systemd/system/k3s-agent.service.env"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\ubb3c\ub860 \uc774 \ud30c\uc77c\uc744 \ud3b8\uc9d1\ud558\uc5ec \ud504\ub85d\uc2dc\ub97c \uad6c\uc131\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["K3s\ub294 \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80 \ud30c\ub4dc \ubc0f \uc11c\ube44\uc2a4 IP \ubc94\uc704\uc640 \ud074\ub7ec\uc2a4\ud130 DNS \ub3c4\uba54\uc778\uc744 \uc790\ub3d9\uc73c\ub85c ",(0,r.jsx)(n.code,{children:"NO_PROXY"})," \ud56d\ubaa9 \ubaa9\ub85d\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4. \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ub178\ub4dc \uc790\uccb4\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 IP \uc8fc\uc18c \ubc94\uc704(\uc989, \ub178\ub4dc\uc758 \ud37c\ube14\ub9ad \ubc0f \ud504\ub77c\uc774\ube57 IP)\uac00 ",(0,r.jsx)(n.code,{children:"NO_PROXY"})," \ubaa9\ub85d\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\ub294\uc9c0 \ub610\ub294 \ud504\ub85d\uc2dc\ub97c \ud1b5\ud574 \ub178\ub4dc\uc5d0 \ub3c4\ub2ec\ud560 \uc218 \uc788\ub294\uc9c0 \ud655\uc778\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"HTTP_PROXY=http://your-proxy.example.com:8888\nHTTPS_PROXY=http://your-proxy.example.com:8888\nNO_PROXY=127.0.0.0/8,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\n"})}),"\n",(0,r.jsxs)(n.p,{children:["K3s\uc640 Kubelet\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \uc54a\uace0 \ucee8\ud14c\uc774\ub108\uc5d0 \ub300\ud55c \ud504\ub85d\uc2dc \uc124\uc815\uc744 \uad6c\uc131\ud558\ub824\uba74, \ubcc0\uc218 \uc55e\uc5d0 ",(0,r.jsx)(n.code,{children:"CONTAINERD_"}),"\ub97c \ubd99\uc774\uba74 \ub429\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"CONTAINERD_HTTP_PROXY=http://your-proxy.example.com:8888\nCONTAINERD_HTTPS_PROXY=http://your-proxy.example.com:8888\nCONTAINERD_NO_PROXY=127.0.0.0/8,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucee8\ud14c\uc774\ub108-\ub7f0\ud0c0\uc784\uc73c\ub85c-docker-\uc0ac\uc6a9",children:"\ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc73c\ub85c Docker \uc0ac\uc6a9"}),"\n",(0,r.jsxs)(n.p,{children:["K3s\ub294 \uc5c5\uacc4 \ud45c\uc900 \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc778 ",(0,r.jsx)(n.a,{href:"https://containerd.io/",children:"containerd"}),"\ub97c \ud3ec\ud568\ud558\uba70 \uae30\ubcf8\uac12\uc73c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\ucfe0\ubc84\ub124\ud2f0\uc2a4 1.24\ubd80\ud130, kubelet\uc740 \ub354 \uc774\uc0c1 kubelet\uc774 dockerd\uc640 \ud1b5\uc2e0\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc778 dockershim\uc744 \ud3ec\ud568\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\nK3s 1.24 \uc774\uc0c1\uc5d0\ub294 ",(0,r.jsx)(n.a,{href:"https://github.com/Mirantis/cri-dockerd",children:"cri-dockerd"}),"\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc5b4 \uc774\uc804 \ub9b4\ub9ac\uc988\uc758 K3s\uc5d0\uc11c \uc6d0\ud65c\ud558\uac8c \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uba74\uc11c Docker \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc744 \uacc4\uc18d \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\ucee8\ud14c\uc774\ub108 \ub300\uc2e0 Docker\ub97c \uc0ac\uc6a9\ud558\ub824\uba74:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["K3s \ub178\ub4dc\uc5d0 Docker\ub97c \uc124\uce58\ud569\ub2c8\ub2e4. \ub79c\ucc98\uc758 ",(0,r.jsx)(n.a,{href:"https://github.com/rancher/install-docker",children:"Docker \uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8"})," \uc911 \ud558\ub098\ub97c \uc0ac\uc6a9\ud558\uc5ec Docker\ub97c \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl https://releases.rancher.com/install-docker/20.10.sh | sh\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"--docker"})," \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec K3s\ub97c \uc124\uce58\ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -sfL https://get.k3s.io | sh -s - --docker\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\ud074\ub7ec\uc2a4\ud130\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ sudo k3s kubectl get pods --all-namespaces\nNAMESPACE     NAME                                     READY   STATUS      RESTARTS   AGE\nkube-system   local-path-provisioner-6d59f47c7-lncxn   1/1     Running     0          51s\nkube-system   metrics-server-7566d596c8-9tnck          1/1     Running     0          51s\nkube-system   helm-install-traefik-mbkn9               0/1     Completed   1          51s\nkube-system   coredns-8655855d6-rtbnb                  1/1     Running     0          51s\nkube-system   svclb-traefik-jbmvl                      2/2     Running     0          43s\nkube-system   traefik-758cd5fc85-2wz97                 1/1     Running     0          43s\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Docker \ucee8\ud14c\uc774\ub108\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'$ sudo docker ps\nCONTAINER ID        IMAGE                     COMMAND                  CREATED              STATUS              PORTS               NAMES\n3e4d34729602        897ce3c5fc8f              "entry"                  About a minute ago   Up About a minute                       k8s_lb-port-443_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0\nbffdc9d7a65f        rancher/klipper-lb        "entry"                  About a minute ago   Up About a minute                       k8s_lb-port-80_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0\n436b85c5e38d        rancher/library-traefik   "/traefik --configfi\u2026"   About a minute ago   Up About a minute                       k8s_traefik_traefik-758cd5fc85-2wz97_kube-system_07abe831-ffd6-4206-bfa1-7c9ca4fb39e7_0\nde8fded06188        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_svclb-traefik-jbmvl_kube-system_d46f10c6-073f-4c7e-8d7a-8e7ac18f9cb0_0\n7c6a30aeeb2f        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_traefik-758cd5fc85-2wz97_kube-system_07abe831-ffd6-4206-bfa1-7c9ca4fb39e7_0\nae6c58cab4a7        9d12f9848b99              "local-path-provisio\u2026"   About a minute ago   Up About a minute                       k8s_local-path-provisioner_local-path-provisioner-6d59f47c7-lncxn_kube-system_2dbd22bf-6ad9-4bea-a73d-620c90a6c1c1_0\nbe1450e1a11e        9dd718864ce6              "/metrics-server"        About a minute ago   Up About a minute                       k8s_metrics-server_metrics-server-7566d596c8-9tnck_kube-system_031e74b5-e9ef-47ef-a88d-fbf3f726cbc6_0\n4454d14e4d3f        c4d3d16fe508              "/coredns -conf /etc\u2026"   About a minute ago   Up About a minute                       k8s_coredns_coredns-8655855d6-rtbnb_kube-system_d05725df-4fb1-410a-8e82-2b1c8278a6a1_0\nc3675b87f96c        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_coredns-8655855d6-rtbnb_kube-system_d05725df-4fb1-410a-8e82-2b1c8278a6a1_0\n4b1fddbe6ca6        rancher/pause:3.1         "/pause"                 About a minute ago   Up About a minute                       k8s_POD_local-path-provisioner-6d59f47c7-lncxn_kube-system_2dbd22bf-6ad9-4bea-a73d-620c90a6c1c1_0\n64d3517d4a95        rancher/pause:3.1         "/pause"\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"etcdctl-\uc0ac\uc6a9\ud558\uae30",children:"etcdctl \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,r.jsx)(n.p,{children:"etcdctl\uc740 etcd \uc11c\ubc84\uc640 \uc0c1\ud638 \uc791\uc6a9\ud558\uae30 \uc704\ud55c CLI\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. K3s\ub294 etcdctl\uc744 \ubc88\ub4e4\ub85c \uc81c\uacf5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["etcdctl\uc744 \uc0ac\uc6a9\ud558\uc5ec K3s\uc758 \ub0b4\uc7a5\ub41c etcd\uc640 \uc0c1\ud638 \uc791\uc6a9\ud558\ub824\uba74 ",(0,r.jsx)(n.a,{href:"https://etcd.io/docs/latest/install/",children:"\uacf5\uc2dd \ubb38\uc11c"}),"\ub97c \ucc38\uc870\ud558\uc5ec etcdctl\uc744 \uc124\uce58\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'ETCD_VERSION="v3.5.5"\nETCD_URL="https://github.com/etcd-io/etcd/releases/download/${ETCD_VERSION}/etcd-${ETCD_VERSION}-linux-amd64.tar.gz"\ncurl -sL ${ETCD_URL} | sudo tar -zxv --strip-components=1 -C /usr/local/bin\n'})}),"\n",(0,r.jsx)(n.p,{children:"\uadf8\ub7f0 \ub2e4\uc74c \uc778\uc99d\uc5d0 K3s\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \uc778\uc99d\uc11c \ubc0f \ud0a4\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d etcdctl\uc744 \uad6c\uc131\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo etcdctl version \\\n  --cacert=/var/lib/rancher/k3s/server/tls/etcd/server-ca.crt \\\n  --cert=/var/lib/rancher/k3s/server/tls/etcd/client.crt \\\n  --key=/var/lib/rancher/k3s/server/tls/etcd/client.key\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucee8\ud14c\uc774\ub108-\uc124\uc815\ud558\uae30",children:"\ucee8\ud14c\uc774\ub108 \uc124\uc815\ud558\uae30"}),"\n",(0,r.jsxs)(n.p,{children:["K3s\ub294 ",(0,r.jsx)(n.code,{children:"/var/lib/rancher/k3s/agent/etc/containerd/config.toml"}),"\uc5d0 \ucee8\ud14c\uc774\ub108\uc5d0 \ub300\ud55c config.toml\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ud30c\uc77c\uc5d0 \ub300\ud55c \uace0\uae09 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\uc744 \uc704\ud574 \uac19\uc740 \ub514\ub809\ud130\ub9ac\uc5d0 ",(0,r.jsx)(n.code,{children:"config.toml.tmpl"}),"\uc774\ub77c\ub294 \ub2e4\ub978 \ud30c\uc77c\uc744 \uc0dd\uc131\ud558\uba74 \uc774 \ud30c\uc77c\uc774 \ub300\uc2e0 \uc0ac\uc6a9\ub41c\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"config.toml.tmpl"}),"\uc740 Go \ud15c\ud50c\ub9bf \ud30c\uc77c\ub85c \ucde8\uae09\ub418\uba70, ",(0,r.jsx)(n.code,{children:"config.Node"})," \uad6c\uc870\uac00 \ud15c\ud50c\ub9bf\uc73c\ub85c \uc804\ub2ec\ub429\ub2c8\ub2e4. \uc774 \uad6c\uc870\ub97c \uc0ac\uc6a9\ud558\uc5ec \uad6c\uc131 \ud30c\uc77c\uc744 \uc0ac\uc6a9\uc790 \uc815\uc758\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c Linux \ubc0f Windows \uc608\uc81c\ub294 ",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s/blob/master/pkg/agent/templates",children:"\uc774 \ud3f4\ub354"}),"\ub97c \ucc38\uc870\ud558\uc138\uc694.\nconfig.Node Go \uc5b8\uc5b4 \uad6c\uc870\uccb4\ub294 ",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s/blob/master/pkg/daemons/config/types.go#L37",children:"\uc5ec\uae30"}),"\uc5d0 \uc815\uc758\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h2,{id:"nvidia-\ucee8\ud14c\uc774\ub108-\ub7f0\ud0c0\uc784-\uc9c0\uc6d0",children:"NVIDIA \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784 \uc9c0\uc6d0"}),"\n",(0,r.jsx)(n.p,{children:"K3s\ub294 K3s \uc2dc\uc791 \uc2dc NVIDIA \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc774 \uc788\uc73c\uba74 \uc790\ub3d9\uc73c\ub85c \uac10\uc9c0\ud558\uc5ec \uc124\uc815\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\uc544\ub798\uc758 \uc548\ub0b4\uc5d0 \ub530\ub77c \ub178\ub4dc\uc5d0 \uc5d4\ube44\ub514\uc544 \ucee8\ud14c\uc774\ub108 \ud328\ud0a4\uc9c0 \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \uc124\uce58\ud569\ub2c8\ub2e4:\n",(0,r.jsx)(n.a,{href:"https://nvidia.github.io/libnvidia-container/",children:"https://nvidia.github.io/libnvidia-container/"})]}),"\n",(0,r.jsxs)(n.li,{children:["\uc5d4\ube44\ub514\uc544 \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784 \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud569\ub2c8\ub2e4. \uc608\uc2dc:\n",(0,r.jsx)(n.code,{children:"apt install -y nvidia-container-runtime cuda-drivers-fabricmanager-515 nvidia-headless-515-server"})]}),"\n",(0,r.jsxs)(n.li,{children:["K3s\ub97c \uc124\uce58\ud558\uac70\ub098 \uc774\ubbf8 \uc124\uce58\ub418\uc5b4 \uc788\ub294 \uacbd\uc6b0 \ub2e4\uc2dc \uc2dc\uc791\ud569\ub2c8\ub2e4:\n",(0,r.jsx)(n.code,{children:"curl -ksL get.k3s.io | sh -"})]}),"\n",(0,r.jsxs)(n.li,{children:["k3s\uac00 \uc5d4\ube44\ub514\uc544 \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc744 \ucc3e\uc558\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4:\n",(0,r.jsx)(n.code,{children:"grep nvidia /var/lib/rancher/k3s/agent/etc/containerd/config.toml"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774\ub807\uac8c \ud558\uba74 \ubc1c\uacac\ub41c \ub7f0\ud0c0\uc784 \uc2e4\ud589 \ud30c\uc77c\uc5d0 \ub530\ub77c \ucee8\ud14c\uc774\ub108 \uc124\uc815\uc5d0 ",(0,r.jsx)(n.code,{children:"nvidia"})," \ubc0f/\ub610\ub294 ",(0,r.jsx)(n.code,{children:"nvidia-experimental"})," \ub7f0\ud0c0\uc784\uc774 \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\ub429\ub2c8\ub2e4.\n\uc5ec\uc804\ud788 \ud074\ub7ec\uc2a4\ud130\uc5d0 \ub7f0\ud0c0\uc784\ud074\ub798\uc2a4 \uc815\uc758\ub97c \ucd94\uac00\ud558\uace0, \ud30c\ub4dc \uc2a4\ud399\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"runtimeClassName: nvidia"}),"\ub97c \uc124\uc815\ud558\uc5ec \uc801\uc808\ud55c \ub7f0\ud0c0\uc784\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc694\uccad\ud558\ub294 \ud30c\ub4dc\ub97c \ubc30\ud3ec\ud574\uc57c \ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: node.k8s.io/v1\nkind: RuntimeClass\nmetadata:\n  name: nvidia\nhandler: nvidia\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: nbody-gpu-benchmark\n  namespace: default\nspec:\n  restartPolicy: OnFailure\n  runtimeClassName: nvidia\n  containers:\n    - name: cuda-container\n      image: nvcr.io/nvidia/k8s/cuda-sample:nbody\n      args: ["nbody", "-gpu", "-benchmark"]\n      resources:\n        limits:\n          nvidia.com/gpu: 1\n      env:\n        - name: NVIDIA_VISIBLE_DEVICES\n          value: all\n        - name: NVIDIA_DRIVER_CAPABILITIES\n          value: all\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\uc5d4\ube44\ub514\uc544 \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc740 ",(0,r.jsx)(n.a,{href:"https://github.com/NVIDIA/k8s-device-plugin/",children:"\uc5d4\ube44\ub514\uc544 \ub514\ubc14\uc774\uc2a4 \ud50c\ub7ec\uadf8\uc778"})," \ubc0f ",(0,r.jsx)(n.a,{href:"https://github.com/NVIDIA/gpu-feature-discovery/",children:"GPU \uae30\ub2a5 \uac80\uc0c9"}),"\uacfc \ud568\uaed8 \uc790\uc8fc \uc0ac\uc6a9\ub418\uba70, \uc704\uc5d0\uc11c \uc5b8\uae09\ud55c \uac83\ucc98\ub7fc \ud30c\ub4dc \uc0ac\uc591\uc5d0 ",(0,r.jsx)(n.code,{children:"runtimeClassName: nvidia"}),"\uac00 \ud3ec\ud568\ub418\ub3c4\ub85d \uc218\uc815\ud558\uc5ec \ubcc4\ub3c4\ub85c \uc124\uce58\ud574\uc57c \ud55c\ub2e4\ub294 \uc810\uc5d0 \uc720\uc758\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h2,{id:"\uc5d0\uc774\uc804\ud2b8-\uc5c6\ub294-\uc11c\ubc84-\uc2e4\ud589\ud558\uae30\uc2e4\ud5d8\uc801",children:"\uc5d0\uc774\uc804\ud2b8 \uc5c6\ub294 \uc11c\ubc84 \uc2e4\ud589\ud558\uae30(\uc2e4\ud5d8\uc801)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\uacbd\uace0:"})," \uc774 \uae30\ub2a5\uc740 \uc2e4\ud5d8 \ub2e8\uacc4\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"disable-agent"})," \ud50c\ub798\uadf8\ub85c \uc2dc\uc791\ud558\uba74, \uc11c\ubc84\ub294 kubelet, \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784 \ub610\ub294 CNI\ub97c \uc2e4\ud589\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud074\ub7ec\uc2a4\ud130\uc5d0 \ub178\ub4dc \ub9ac\uc18c\uc2a4\ub97c \ub4f1\ub85d\ud558\uc9c0 \uc54a\uc73c\uba70, ",(0,r.jsx)(n.code,{children:"kubectl get nodes"})," \ucd9c\ub825\uc5d0 \ub098\ud0c0\ub098\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc5d0\uc774\uc804\ud2b8\ub9ac\uc2a4 \uc11c\ubc84\ub294 kubelet\uc744 \ud638\uc2a4\ud2b8\ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0, \ud30c\ub4dc\ub97c \uc2e4\ud589\ud558\uac70\ub098 \ub0b4\uc7a5\ub41c etcd \ucee8\ud2b8\ub864\ub7ec \ubc0f \uc2dc\uc2a4\ud15c \uc5c5\uadf8\ub808\uc774\ub4dc \ucee8\ud2b8\ub864\ub7ec\ub97c \ud3ec\ud568\ud558\uc5ec \ud074\ub7ec\uc2a4\ud130 \ub178\ub4dc\ub97c \uc5f4\uac70\ud558\ub294 \ub370 \uc758\uc874\ud558\ub294 \uc6b4\uc601\uc790\uac00 \uad00\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\uc5d0\uc774\uc804\ud2b8\ub9ac\uc2a4 \uc11c\ubc84\ub97c \uc2e4\ud589\ud558\ub294 \uac83\uc740 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601\uc790 \uc9c0\uc6d0 \ubd80\uc871\uc73c\ub85c \uc778\ud55c \uad00\ub9ac \uc624\ubc84\ud5e4\ub4dc \uc99d\uac00\ub97c \uac10\uc218\ud558\uace0\uc11c\ub77c\ub3c4 \uc5d0\uc774\uc804\ud2b8\uc640 \uc6cc\ud06c\ub85c\ub4dc\uc5d0 \uc758\ud55c \uac80\uc0c9\uc73c\ub85c\ubd80\ud130 \ucee8\ud2b8\ub864 \ud50c\ub808\uc778 \ub178\ub4dc\ub97c \uc228\uae30\uace0\uc790 \ud558\ub294 \uacbd\uc6b0\uc5d0 \uc720\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.h2,{id:"\ub8e8\ud2b8\ub9ac\uc2a4-\uc11c\ubc84-\uc2e4\ud589\uc2e4\ud5d8\uc801",children:"\ub8e8\ud2b8\ub9ac\uc2a4 \uc11c\ubc84 \uc2e4\ud589(\uc2e4\ud5d8\uc801)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\uacbd\uace0:"})," \uc774 \uae30\ub2a5\uc740 \uc2e4\ud5d8 \ub2e8\uacc4\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\ub8e8\ud2b8\ub9ac\uc2a4 \ubaa8\ub4dc\ub294 \uc7a0\uc7ac\uc801\uc778 \ucee8\ud14c\uc774\ub108 \ube0c\ub808\uc774\ud06c\uc544\uc6c3 \uacf5\uaca9\uc73c\ub85c\ubd80\ud130 \ud638\uc2a4\ud2b8\uc758 \uc2e4\uc81c \ub8e8\ud2b8\ub97c \ubcf4\ud638\ud558\uae30 \uc704\ud574 \uad8c\ud55c\uc774 \uc5c6\ub294 \uc0ac\uc6a9\uc790\ub85c K3s \uc11c\ubc84\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\ub8e8\ud2b8\ub9ac\uc2a4 \ucfe0\ubc84\ub124\ud2f0\uc2a4\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://rootlesscontaine.rs/",children:"https://rootlesscontaine.rs/"})," \uc744 \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h3,{id:"\ub8e8\ud2b8\ub9ac\uc2a4-\ubaa8\ub4dc\uc758-\uc54c\ub824\uc9c4-\uc774\uc288",children:"\ub8e8\ud2b8\ub9ac\uc2a4 \ubaa8\ub4dc\uc758 \uc54c\ub824\uc9c4 \uc774\uc288"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud3ec\ud2b8"})}),"\n",(0,r.jsx)(n.p,{children:"\ub8e8\ud2b8\ub9ac\uc2a4 \uc2e4\ud589 \uc2dc \uc0c8\ub85c\uc6b4 \ub124\ud2b8\uc6cc\ud06c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc774\ub294 K3s \uc778\uc2a4\ud134\uc2a4\uac00 \ud638\uc2a4\ud2b8\uc640 \ub124\ud2b8\uc6cc\ud0b9\uc774 \uc0c1\ub2f9\ud788 \ubd84\ub9ac\ub41c \uc0c1\ud0dc\ub85c \uc2e4\ud589\ub41c\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4.\n\ud638\uc2a4\ud2b8\uc5d0\uc11c K3s\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uc11c\ube44\uc2a4\uc5d0 \uc561\uc138\uc2a4\ud558\ub294 \uc720\uc77c\ud55c \ubc29\ubc95\uc740 K3s \ub124\ud2b8\uc6cc\ud06c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0 \ud3ec\ud2b8 \ud3ec\uc6cc\ub4dc\ub97c \uc124\uc815\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.\n\ub8e8\ud2b8\ub9ac\uc2a4 K3s\uc5d0\ub294 6443 \ubc0f 1024 \ubbf8\ub9cc\uc758 \uc11c\ube44\uc2a4 \ud3ec\ud2b8\ub97c 10000 \uc624\ud504\uc14b\uc73c\ub85c \ud638\uc2a4\ud2b8\uc5d0 \uc790\ub3d9\uc73c\ub85c \ubc14\uc778\ub529\ud558\ub294 \ucee8\ud2b8\ub864\ub7ec\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.p,{children:"\uc608\ub97c \ub4e4\uc5b4, \ud3ec\ud2b8 80\uc758 \uc11c\ube44\uc2a4\ub294 \ud638\uc2a4\ud2b8\uc5d0\uc11c 10080\uc774 \ub418\uc9c0\ub9cc 8080\uc740 \uc624\ud504\uc14b \uc5c6\uc774 8080\uc774 \ub429\ub2c8\ub2e4. \ud604\uc7ac \ub85c\ub4dc\ubc38\ub7f0\uc11c \uc11c\ube44\uc2a4\ub9cc \uc790\ub3d9\uc73c\ub85c \ubc14\uc778\ub529\ub429\ub2c8\ub2e4."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Cgroup"})}),"\n",(0,r.jsx)(n.p,{children:'Cgroup v1 \ubc0f \ud558\uc774\ube0c\ub9ac\ub4dc v1/v2\ub294 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc73c\uba70, \uc21c\uc218 Cgroup v2\ub9cc \uc9c0\uc6d0\ub429\ub2c8\ub2e4. \ub8e8\ud2b8\ub9ac\uc2a4 \uc2e4\ud589 \uc2dc \ub204\ub77d\ub41c Cgroup\uc73c\ub85c \uc778\ud574 K3s\uac00 \uc2dc\uc791\ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0, \ub178\ub4dc\uac00 \ud558\uc774\ube0c\ub9ac\ub4dc \ubaa8\ub4dc\uc5d0 \uc788\uace0 "\ub204\ub77d\ub41c" Cgroup\uc774 \uc5ec\uc804\ud788 v1 \ucee8\ud2b8\ub864\ub7ec\uc5d0 \ubc14\uc778\ub529\ub418\uc5b4 \uc788\uc744 \uac00\ub2a5\uc131\uc774 \ub192\uc2b5\ub2c8\ub2e4.'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\uba40\ud2f0\ub178\ub4dc/\uba40\ud2f0\ud504\ub85c\uc138\uc2a4 \ud074\ub7ec\uc2a4\ud130"})}),"\n",(0,r.jsxs)(n.p,{children:["\ub2e4\uc911 \ub178\ub4dc \ub8e8\ud2b8\ub9ac\uc2a4 \ud074\ub7ec\uc2a4\ud130 \ub610\ub294 \ub3d9\uc77c\ud55c \ub178\ub4dc\uc5d0 \uc788\ub294 \uc5ec\ub7ec \uac1c\uc758 \ub8e8\ud2b8\ub9ac\uc2a4 k3s \ud504\ub85c\uc138\uc2a4\ub294 \ud604\uc7ac \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s/issues/6488#issuecomment-1314998091",children:"#6488"}),"\uc744 \ucc38\uc870\ud558\uc138\uc694."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\ub8e8\ud2b8\ub9ac\uc2a4-\uc11c\ubc84-\uc2dc\uc791\ud558\uae30",children:"\ub8e8\ud2b8\ub9ac\uc2a4 \uc11c\ubc84 \uc2dc\uc791\ud558\uae30"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://rootlesscontaine.rs/getting-started/common/cgroup2/",children:"https://rootlesscontaine.rs/getting-started/common/cgroup2/"})," \uc744 \ucc38\uc870\ud558\uc5ec cgroup v2 \uc704\uc784\uc744 \ud65c\uc131\ud654\ud569\ub2c8\ub2e4.\n\uc774 \ub2e8\uacc4\ub294 \ud544\uc218\uc774\uba70, \uc801\uc808\ud55c cgroups\uac00 \uc704\uc784\ub418\uc9c0 \uc54a\uc73c\uba74 \ub8e8\ud2b8\ub9ac\uc2a4 kubelet\uc744 \uc2dc\uc791\ud558\uc9c0 \ubabb\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"https://github.com/k3s-io/k3s/blob/<VERSION>/k3s-rootless.service"}),"](",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s/blob/master/k3s-rootless.service)%EC%97%90%EC%84%9C",children:"https://github.com/k3s-io/k3s/blob/master/k3s-rootless.service)\uc5d0\uc11c"})," ",(0,r.jsx)(n.code,{children:"k3s-rootless.service"}),"\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud55c\ub2e4.\n",(0,r.jsx)(n.code,{children:"k3s-rootless.service"}),"\uc640 ",(0,r.jsx)(n.code,{children:"k3s"}),"\uc758 \ubc84\uc804\uc774 \uac19\uc740 \uac83\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"k3s-rootless.service"}),"\ub97c ",(0,r.jsx)(n.code,{children:"~/.config/systemd/user/k3s-rootless.service"}),"\uc5d0 \uc124\uce58\ud569\ub2c8\ub2e4.\n\uc774 \ud30c\uc77c\uc744 \uc2dc\uc2a4\ud15c \uc804\uccb4 \uc11c\ube44\uc2a4(",(0,r.jsx)(n.code,{children:"/etc/systemd/..."}),")\ub85c \uc124\uce58\ud558\ub294 \uac83\uc740 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n",(0,r.jsx)(n.code,{children:"k3s"})," \ubc14\uc774\ub108\ub9ac\uc758 \uacbd\ub85c\uc5d0 \ub530\ub77c \ud30c\uc77c\uc758 ",(0,r.jsx)(n.code,{children:"ExecStart=/usr/local/bin/k3s ..."})," \ud589\uc744 \uc218\uc815\ud574\uc57c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"systemctl --user daemon-reload"}),"\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"systemctl --user enable --now k3s-rootless"}),"\ub97c \uc2e4\ud589\ud55c\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"KUBECONFIG=~/.kube/k3s.yaml kubectl get pods -A"}),"\ub97c \uc2e4\ud589\ud558\uace0, \ud30c\ub4dc\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud55c\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ucc38\uace0: \ud130\ubbf8\ub110 \uc138\uc158\uc740 cgroups v2 \uc704\uc784\uc744 \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ud130\ubbf8\ub110\uc5d0\uc11c ",(0,r.jsx)(n.code,{children:"k3s server --rootless"}),"\ub97c \uc2e4\ud589\ud558\uc9c0 \uc54a\ub294\ub2e4.\n\ud130\ubbf8\ub110\uc5d0\uc11c \uaf2d \uc2e4\ud589\ud574\uc57c \ud558\ub294 \uacbd\uc6b0, ",(0,r.jsx)(n.code,{children:"systemd-run --user -p Delegate=yes --tty k3s server --roolless"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec systemd \ubc94\uc704\ub85c \ub798\ud551\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\uace0\uae09-\ub8e8\ud2b8\ub9ac\uc2a4-\uad6c\uc131",children:"\uace0\uae09 \ub8e8\ud2b8\ub9ac\uc2a4 \uad6c\uc131"}),"\n",(0,r.jsxs)(n.p,{children:["\ub8e8\ud2b8\ub9ac\uc2a4 K3s\ub294 \ud638\uc2a4\ud2b8\uc640 \uc0ac\uc6a9\uc790 \ub124\ud2b8\uc6cc\ud06c \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uac04 \ud1b5\uc2e0\uc744 \uc704\ud574 ",(0,r.jsx)(n.a,{href:"https://github.com/rootless-containers/rootlesskit",children:"rootlesskit"})," \ubc0f ",(0,r.jsx)(n.a,{href:"https://github.com/rootless-containers/slirp4netns",children:"slirp4netns"}),"\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\ub8e8\ud2b8\ub9ac\uc2a4\ud0b7\uacfc slirp4net\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uad6c\uc131 \uc911 \uc77c\ubd80\ub294 \ud658\uacbd \ubcc0\uc218\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \uc124\uc815\ud558\ub294 \uac00\uc7a5 \uc88b\uc740 \ubc29\ubc95\uc740 k3s-rootless systemd \uc720\ub2db\uc758 ",(0,r.jsx)(n.code,{children:"Environment"})," \ud544\ub4dc\uc5d0 \ucd94\uac00\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"K3S_ROOTLESS_MTU"})}),(0,r.jsx)(n.td,{children:"1500"}),(0,r.jsx)(n.td,{children:"slirp4netns \uac00\uc0c1 \uc778\ud130\ud398\uc774\uc2a4\uc758 MTU\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"K3S_ROOTLESS_CIDR"})}),(0,r.jsx)(n.td,{children:"10.41.0.0/16"}),(0,r.jsx)(n.td,{children:"slirp4netns \uac00\uc0c1 \uc778\ud130\ud398\uc774\uc2a4\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 CIDR\uc744 \uc124\uc815\ud569\ub2c8\ub2e4."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"K3S_ROOTLESS_ENABLE_IPV6"})}),(0,r.jsx)(n.td,{children:"autotedected"}),(0,r.jsx)(n.td,{children:"Enables slirp4netns IPv6 \uc9c0\uc6d0. \uc9c0\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 K3\uac00 \ub4c0\uc5bc \uc2a4\ud0dd \uc791\ub3d9\uc744 \uc704\ud574 \uad6c\uc131\ub418\uba74 \uc790\ub3d9\uc73c\ub85c \ud65c\uc131\ud654\ub429\ub2c8\ub2e4."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"K3S_ROOTLESS_PORT_DRIVER"})}),(0,r.jsx)(n.td,{children:"builtin"}),(0,r.jsxs)(n.td,{children:["\ub8e8\ud2b8\ub9ac\uc2a4 \ud3ec\ud2b8 \ub4dc\ub77c\uc774\ubc84\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"builtin"})," \ub610\ub294 ",(0,r.jsx)(n.code,{children:"slirp4netns"})," \uc911 \ud558\ub098\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4. \ube4c\ud2b8\uc778\uc774 \ub354 \ube60\ub974\uc9c0\ub9cc \uc778\ubc14\uc6b4\ub4dc \ud328\ud0b7\uc758 \uc6d0\ub798 \uc18c\uc2a4 \uc8fc\uc18c\ub97c \uac00\uc7a5\ud569\ub2c8\ub2e4."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"K3S_ROOTLESS_DISABLE_HOST_LOOPBACK"})}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"\uac8c\uc774\ud2b8\uc6e8\uc774 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud55c \ud638\uc2a4\ud2b8\uc758 \ub8e8\ud504\ubc31 \uc8fc\uc18c\uc5d0 \ub300\ud55c \uc561\uc138\uc2a4\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uc5ec\ubd80\ub97c \uc81c\uc5b4\ud569\ub2c8\ub2e4. \ubcf4\uc548\uc0c1\uc758 \uc774\uc720\ub85c \ubcc0\uacbd\ud558\uc9c0 \uc54a\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\ub8e8\ud2b8\ub9ac\uc2a4-\ubb38\uc81c-\ud574\uacb0\ud558\uae30",children:"\ub8e8\ud2b8\ub9ac\uc2a4 \ubb38\uc81c \ud574\uacb0\ud558\uae30"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"systemctl --user status k3s-rootless"}),"\ub97c \uc2e4\ud589\ud558\uc5ec \ub370\ubaac \uc0c1\ud0dc\ub97c \ud655\uc778\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"journalctl --user -f -u k3s-rootless"}),"\ub97c \uc2e4\ud589\ud558\uc5ec \ub370\ubaac \ub85c\uadf8\ub97c \ud655\uc778\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://rootlesscontaine.rs/",children:"https://rootlesscontaine.rs/"})," \ucc38\uc870"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\ub178\ub4dc-\ub808\uc774\ube14-\ubc0f-\ud14c\uc778\ud2b8",children:"\ub178\ub4dc \ub808\uc774\ube14 \ubc0f \ud14c\uc778\ud2b8"}),"\n",(0,r.jsxs)(n.p,{children:["K3s \uc5d0\uc774\uc804\ud2b8\ub294 ",(0,r.jsx)(n.code,{children:"--node-label"})," \ubc0f ",(0,r.jsx)(n.code,{children:"--node-taint"})," \uc635\uc158\uc73c\ub85c \uad6c\uc131\ud560 \uc218 \uc788\uc73c\uba70, \uc774 \uc635\uc158\uc740 kubelet\uc5d0 \ub808\uc774\ube14\uacfc \ud14c\uc778\ud2b8\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4. \uc774 \ub450 \uc635\uc158\uc740 [\ub4f1\ub85d \uc2dc\uc810\uc5d0] \ub808\uc774\ube14 \ubc0f/\ub610\ub294 \ud14c\uc778\ud2b8\ub9cc \ucd94\uac00\ud558\ubbc0\ub85c(./cli/agent.md#node-labels-and-taints-for-agents), \ub178\ub4dc\uac00 \ud074\ub7ec\uc2a4\ud130\uc5d0 \ucc98\uc74c \uc870\uc778\ub420 \ub54c\ub9cc \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud604\uc7ac \ubaa8\ub4e0 \ubc84\uc804\uc758 \ucfe0\ubc84\ub124\ud2f0\uc2a4\ub294 \ub178\ub4dc\uac00 ",(0,r.jsx)(n.code,{children:"kubernetes.io"})," \ubc0f ",(0,r.jsx)(n.code,{children:"k8s.io"})," \uc811\ub450\uc0ac\uac00 \ud3ec\ud568\ub41c \ub300\ubd80\ubd84\uc758 \ub808\uc774\ube14, \ud2b9\ud788 ",(0,r.jsx)(n.code,{children:"kubernetes.io/role"})," \ub808\uc774\ube14\uc5d0 \ub4f1\ub85d\ud558\ub294 \uac83\uc744 \uc81c\ud55c\ud569\ub2c8\ub2e4. \ud5c8\uc6a9\ub418\uc9c0 \uc54a\ub294 \ub808\uc774\ube14\uc744 \uac00\uc9c4 \ub178\ub4dc\ub97c \uc2dc\uc791\ud558\ub824\uace0 \ud558\uba74 K3s\uac00 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc791\uc131\uc790\uac00 \uc5b8\uae09\ud588\ub4ef\uc774:"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ub178\ub4dc\ub294 \uc790\uccb4 \uc5ed\ud560 \ub808\uc774\ube14\uc744 \uc5b4\uc124\ud2b8\ud558\ub294 \uac83\uc774 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub178\ub4dc \uc5ed\ud560\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \uad8c\ud55c \ub610\ub294 \ucee8\ud2b8\ub864 \ud50c\ub808\uc778 \uc720\ud615\uc758 \ub178\ub4dc\ub97c \uc2dd\ubcc4\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\uba70, \ub178\ub4dc\uac00 \ud574\ub2f9 \ud480\uc5d0 \ub808\uc774\ube14\uc744 \uc9c0\uc815\ud558\ub3c4\ub85d \ud5c8\uc6a9\ud558\uba74 \uc190\uc0c1\ub41c \ub178\ub4dc\uac00 \ub354 \ub192\uc740 \uad8c\ud55c \uc790\uaca9 \uc99d\uba85\uc5d0 \ub300\ud55c \uc561\uc138\uc2a4 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud558\ub294 \uc6cc\ud06c\ub85c\ub4dc(\uc608: \ucee8\ud2b8\ub864 \ud50c\ub808\uc778 \ub370\ubaac\uc14b)\ub97c \uc0ac\uc18c\ud558\uac8c \ub04c\uc5b4\ub4e4\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://github.com/kubernetes/enhancements/blob/master/keps/sig-auth/279-limit-node-access/README.md",children:"SIG-Auth KEP 279"}),"\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(n.p,{children:["\ub178\ub4dc \ub4f1\ub85d \ud6c4 \ub178\ub4dc \ub808\uc774\ube14\uacfc \ud2f4\ud2b8\ub97c \ubcc0\uacbd\ud558\uac70\ub098 \uc608\uc57d \ub808\uc774\ube14\uc744 \ucd94\uac00\ud558\ub824\uba74 ",(0,r.jsx)(n.code,{children:"kubectl"}),"\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4. ",(0,r.jsx)(n.a,{href:"https://kubernetes.io/ko/docs/concepts/scheduling-eviction/taint-and-toleration/",children:"taint"})," \ubc0f ",(0,r.jsx)(n.a,{href:"https://kubernetes.io/ko/docs/tasks/configure-pod-container/assign-pods-nodes/#add-a-label-to-a-node",children:"\ub178\ub4dc \ub808\uc774\ube14"}),"\uc744 \ucd94\uac00\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uacf5\uc2dd \ubb38\uc11c\ub97c \ucc38\uace0\ud558\uc138\uc694."]}),"\n",(0,r.jsx)(n.h2,{id:"\uc124\uce58-\uc2a4\ud06c\ub9bd\ud2b8\ub85c-\uc11c\ube44\uc2a4-\uc2dc\uc791\ud558\uae30",children:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub85c \uc11c\ube44\uc2a4 \uc2dc\uc791\ud558\uae30"}),"\n",(0,r.jsx)(n.p,{children:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub294 \uc124\uce58 \ud504\ub85c\uc138\uc2a4\uc758 \uc77c\ubd80\ub85c OS\uac00 systemd \ub610\ub294 openrc\ub97c \uc0ac\uc6a9\ud558\ub294\uc9c0 \uc790\ub3d9\uc73c\ub85c \uac10\uc9c0\ud558\uace0 \uc11c\ube44\uc2a4\ub97c \ud65c\uc131\ud654 \ubc0f \uc2dc\uc791\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["openrc\ub85c \uc2e4\ud589\ud558\uba74 ",(0,r.jsx)(n.code,{children:"/var/log/k3s.log"}),"\uc5d0 \ub85c\uadf8\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.li,{children:["systemd\ub85c \uc2e4\ud589\ud558\ub294 \uacbd\uc6b0, ",(0,r.jsx)(n.code,{children:"/var/log/syslog"}),"\uc5d0 \ub85c\uadf8\uac00 \uc0dd\uc131\ub418\uba70 ",(0,r.jsx)(n.code,{children:"journalctl -u k3s"}),"(\ub610\ub294 \uc5d0\uc774\uc804\ud2b8\uc5d0\uc11c\ub294 ",(0,r.jsx)(n.code,{children:"journalctl -u k3s-agent"}),")\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub85c\uadf8\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\ub85c \uc790\ub3d9 \uc2dc\uc791 \ubc0f \uc11c\ube44\uc2a4 \ud65c\uc131\ud654\ub97c \ube44\ud65c\uc131\ud654\ud558\ub294 \uc608\uc81c\uc785\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -sfL https://get.k3s.io | INSTALL_K3S_SKIP_START=true INSTALL_K3S_SKIP_ENABLE=true sh -\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucd94\uac00-os-\uc900\ube44-\uc0ac\ud56d",children:"\ucd94\uac00 OS \uc900\ube44 \uc0ac\ud56d"}),"\n",(0,r.jsx)(n.h3,{id:"\uc774\uc804-iptables-\ubc84\uc804",children:"\uc774\uc804 iptables \ubc84\uc804"}),"\n",(0,r.jsxs)(n.p,{children:["\uba87\uba87 \uc720\uba85 Linux \ubc30\ud3ec\ud310\uc5d0\ub294 \uc911\ubcf5 \uaddc\uce59\uc774 \ub204\uc801\ub418\uc5b4 \ub178\ub4dc\uc758 \uc131\ub2a5\uacfc \uc548\uc815\uc131\uc5d0 \ubd80\uc815\uc801\uc778 \uc601\ud5a5\uc744 \uc8fc\ub294 \ubc84\uadf8\uac00 \ud3ec\ud568\ub41c \ubc84\uc804\uc758 iptables\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ubb38\uc81c\uc758 \uc601\ud5a5\uc744 \ubc1b\ub294\uc9c0 \ud655\uc778\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s/issues/3117",children:"Issue #3117"}),"\uc744 \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(n.p,{children:["K3s\uc5d0\ub294 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9\ud558\ub294 iptables(v1.8.8) \ubc84\uc804\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"--prefer-bundled-bin"})," \uc635\uc158\uc73c\ub85c K3s\ub97c \uc2dc\uc791\ud558\uac70\ub098 \uc6b4\uc601 \uccb4\uc81c\uc5d0\uc11c iptables/nftables \ud328\ud0a4\uc9c0\ub97c \uc81c\uac70\ud558\uc5ec K3s\uac00 \ubc88\ub4e4 \ubc84\uc804\uc758 iptables\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.admonition,{title:"Version Gate",type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"prefer-bundled-bin"})," \ud50c\ub798\uadf8\ub294 2022-12 \ub9b4\ub9ac\uc2a4(v1.26.0+k3s1, v1.25.5+k3s1, v1.24.9+k3s1, v1.23.15+k3s1) \ubd80\ud130 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,r.jsx)(n.h3,{id:"red-hat-enterprise-linux--centos",children:"Red Hat Enterprise Linux / CentOS"}),"\n",(0,r.jsx)(n.p,{children:"firewalld\ub97c \ub044\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"systemctl disable firewalld --now\n"})}),"\n",(0,r.jsx)(n.p,{children:"\ubc29\ud654\ubcbd\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud558\ub824\uba74 \uae30\ubcf8\uc801\uc73c\ub85c \ub2e4\uc74c \uaddc\uce59\uc774 \ud544\uc694\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"firewall-cmd --permanent --add-port=6443/tcp #apiserver\nfirewall-cmd --permanent --zone=trusted --add-source=10.42.0.0/16 #pods\nfirewall-cmd --permanent --zone=trusted --add-source=10.43.0.0/16 #services\nfirewall-cmd --reload\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uc124\uc815\uc5d0 \ub530\ub77c \ucd94\uac00 \ud3ec\ud2b8\ub97c \uc5f4\uc5b4\uc57c \ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"/kr/installation/requirements#inbound-rules-for-k3s-nodes",children:"\uc778\ubc14\uc6b4\ub4dc \uaddc\uce59"}),"\uc744 \ucc38\uc870\ud558\uc138\uc694. \ud30c\ub4dc \ub610\ub294 \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uae30\ubcf8 CIDR\uc744 \ubcc0\uacbd\ud558\ub294 \uacbd\uc6b0, \uadf8\uc5d0 \ub530\ub77c \ubc29\ud654\ubcbd \uaddc\uce59\uc744 \uc5c5\ub370\uc774\ud2b8\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"\ud65c\uc131\ud654\ub41c \uacbd\uc6b0, nm-cloud-setup\uc744 \ube44\ud65c\uc131\ud654\ud558\uace0 \ub178\ub4dc\ub97c \uc7ac\ubd80\ud305\ud574\uc57c \ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"systemctl disable nm-cloud-setup.service nm-cloud-setup.timer\nreboot\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ubuntu",children:"Ubuntu"}),"\n",(0,r.jsx)(n.p,{children:"ufw(uncomplicated firewall)\ub97c \ub044\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ufw disable\n"})}),"\n",(0,r.jsx)(n.p,{children:"ufw\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud558\ub824\uba74 \uae30\ubcf8\uc801\uc73c\ub85c \ub2e4\uc74c \uaddc\uce59\uc774 \ud544\uc694\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ufw allow 6443/tcp #apiserver\nufw allow from 10.42.0.0/16 to any #pods\nufw allow from 10.43.0.0/16 to any #services\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uc124\uc815\uc5d0 \ub530\ub77c \ucd94\uac00 \ud3ec\ud2b8\ub97c \uc5f4\uc5b4\uc57c \ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"/kr/installation/requirements#inbound-rules-for-k3s-nodes",children:"\uc778\ubc14\uc6b4\ub4dc \uaddc\uce59"}),"\uc744 \ucc38\uc870\ud55c\ub2e4. \ud30c\ub4dc \ub610\ub294 \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uae30\ubcf8 CIDR\uc744 \ubcc0\uacbd\ud558\ub294 \uacbd\uc6b0, \uadf8\uc5d0 \ub530\ub77c \ubc29\ud654\ubcbd \uaddc\uce59\uc744 \uc5c5\ub370\uc774\ud2b8\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"raspberry-pi",children:"Raspberry Pi"}),"\n",(0,r.jsxs)(n.p,{children:["\ub77c\uc988\ubca0\ub9ac\ud30c\uc774 OS\ub294 \ub370\ube44\uc548 \uae30\ubc18\uc774\uba70, \uc624\ub798\ub41c iptables \ubc84\uc804\uc73c\ub85c \uc778\ud574 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.jsx)(n.a,{href:"#%EC%9D%B4%EC%A0%84-iptables-%EB%B2%84%EC%A0%84",children:"\ud574\uacb0 \ubc29\ubc95"}),"\uc744 \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud45c\uc900 \ub77c\uc988\ubca0\ub9ac\ud30c\uc774 OS \uc124\uce58\ub294 ",(0,r.jsx)(n.code,{children:"cgroups"}),"\uac00 \ud65c\uc131\ud654\ub41c \uc0c1\ud0dc\uc5d0\uc11c \uc2dc\uc791\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. ",(0,r.jsx)(n.strong,{children:"K3S"}),"\ub294 systemd \uc11c\ube44\uc2a4\ub97c \uc2dc\uc791\ud558\uae30 \uc704\ud574 ",(0,r.jsx)(n.code,{children:"cgroups"}),"\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. ",(0,r.jsx)(n.code,{children:"cgroups"}),"\ub294 ",(0,r.jsx)(n.code,{children:"/boot/cmdline.txt"}),"\uc5d0 ",(0,r.jsx)(n.code,{children:"cgroup_memory=1 cgroup_enable=memory"}),"\ub97c \ucd94\uac00\ud558\uc5ec \ud65c\uc131\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"cmdline.txt \uc608\uc2dc:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"console=serial0,115200 console=tty1 root=PARTUUID=58b06195-02 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait cgroup_memory=1 cgroup_enable=memory\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uc6b0\ubd84\ud22c 21.10\ubd80\ud130 \ub77c\uc988\ubca0\ub9ac\ud30c\uc774\uc758 vxlan \uc9c0\uc6d0\uc740 \ubcc4\ub3c4\uc758 \ucee4\ub110 \ubaa8\ub4c8\ub85c \uc62e\uaca8\uc84c\uc2b5\ub2c8\ub2e4."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install linux-modules-extra-raspi\n"})}),"\n",(0,r.jsx)(n.h2,{id:"docker\uc5d0\uc11c-k3s-\uc2e4\ud589\ud558\uae30",children:"Docker\uc5d0\uc11c k3s \uc2e4\ud589\ud558\uae30"}),"\n",(0,r.jsx)(n.p,{children:"Docker\uc5d0\uc11c K3s\ub97c \uc2e4\ud589\ud558\ub294 \ubc29\ubc95\uc5d0\ub294 \uc5ec\ub7ec \uac00\uc9c0\uac00 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsxs)(c,{children:[(0,r.jsxs)(s,{value:"K3d",default:!0,children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/k3d-io/k3d",children:"k3d"}),"\ub294 \ub3c4\ucee4\uc5d0\uc11c \uba40\ud2f0\ub178\ub4dc K3s \ud074\ub7ec\uc2a4\ud130\ub97c \uc27d\uac8c \uc2e4\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub41c \uc720\ud2f8\ub9ac\ud2f0\uc785\ub2c8\ub2e4."]}),(0,r.jsx)(n.p,{children:"k3d\ub97c \uc0ac\uc6a9\ud558\uba74 \ucfe0\ubc84\ub124\ud2f0\uc2a4\uc758 \ub85c\uceec \uac1c\ubc1c \ub4f1\uc744 \uc704\ud574 \ub3c4\ucee4\uc5d0\uc11c \ub2e8\uc77c \ub178\ub4dc \ubc0f \ub2e4\uc911 \ub178\ub4dc k3s \ud074\ub7ec\uc2a4\ud130\ub97c \ub9e4\uc6b0 \uc27d\uac8c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,r.jsxs)(n.p,{children:["k3d \uc124\uce58 \ubc0f \uc0ac\uc6a9 \ubc29\ubc95\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://k3d.io/#installation",children:"\uc124\uce58"})," \uc124\uba85\uc11c\ub97c \ucc38\uc870\ud558\uc138\uc694."]})]}),(0,r.jsxs)(s,{value:"Docker",children:[(0,r.jsxs)(n.p,{children:["Docker\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 ",(0,r.jsx)(n.code,{children:"rancher/k3s"})," \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\uc5ec K3s \uc11c\ubc84\uc640 \uc5d0\uc774\uc804\ud2b8\ub97c \uc2e4\ud589\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.\n",(0,r.jsx)(n.code,{children:"docker run"})," \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker run \\\n  --privileged \\\n  --name k3s-server-1 \\\n  --hostname k3s-server-1 \\\n  -p 6443:6443 \\\n  -d rancher/k3s:v1.24.10-k3s1 \\\n  server\n"})}),(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\ud0dc\uadf8\uc5d0 \uc720\ud6a8\ud55c K3s \ubc84\uc804\uc744 \uc9c0\uc815\ud574\uc57c \ud558\uba70, ",(0,r.jsx)(n.code,{children:"latest"})," \ud0dc\uadf8\ub294 \uc720\uc9c0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",(0,r.jsx)(n.br,{}),"\n","\ub3c4\ucee4 \uc774\ubbf8\uc9c0\ub294 \ud0dc\uadf8\uc5d0 ",(0,r.jsx)(n.code,{children:"+"})," \uae30\ud638\ub97c \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ud0dc\uadf8\uc5d0 ",(0,r.jsx)(n.code,{children:"-"}),"\ub97c \ub300\uc2e0 \uc0ac\uc6a9\ud558\uc138\uc694."]})}),(0,r.jsx)(n.p,{children:"K3s\uac00 \uc2e4\ud589\ub418\uace0 \ub098\uba74, \uad00\ub9ac\uc790 kubeconfig\ub97c Docker \ucee8\ud14c\uc774\ub108\uc5d0\uc11c \ubcf5\uc0ac\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo docker cp k3s-server-1:/etc/rancher/k3s/k3s.yaml ~/.kube/config\n"})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"selinux-\uc9c0\uc6d0",children:"SELinux \uc9c0\uc6d0"}),"\n",(0,r.jsx)(n.admonition,{title:"Version Gate",type:"info",children:(0,r.jsx)(n.p,{children:"v1.19.4+k3s1\ubd80\ud130 \uc0ac\uc6a9 \uac00\ub2a5"})}),"\n",(0,r.jsx)(n.p,{children:"\uae30\ubcf8\uc801\uc73c\ub85c SELinux\uac00 \ud65c\uc131\ud654\ub41c \uc2dc\uc2a4\ud15c(\uc608\ub85c CentOS)\uc5d0 K3s\ub97c \uc124\uce58\ud558\ub294 \uacbd\uc6b0 \uc801\uc808\ud55c SELinux \uc815\ucc45\uc774 \uc124\uce58\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(c,{children:[(0,r.jsx)(s,{value:"\uc790\ub3d9 \uc124\uce58",default:!0,children:(0,r.jsxs)(n.p,{children:["\uc5d0\uc5b4 \uac2d(\ud3d0\uc1c4\ub9dd) \uc124\uce58\ub97c \uc218\ud589\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \ud638\ud658\ub418\ub294 \uc2dc\uc2a4\ud15c\uc5d0\uc11c ",(0,r.jsx)(n.a,{href:"/kr/installation/configuration#configuration-with-install-script",children:"\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8"}),"\ub294 \ub79c\ucc98 RPM \uc800\uc7a5\uc18c\uc5d0\uc11c SELinux RPM\uc744 \uc790\ub3d9\uc73c\ub85c \uc124\uce58\ud569\ub2c8\ub2e4. \uc790\ub3d9 \uc124\uce58\ub294 ",(0,r.jsx)(n.code,{children:"INSTALL_K3S_SKIP_SELINUX_RPM=true"}),"\ub85c \uc124\uc815\ud558\uc5ec \uac74\ub108\ub6f8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})}),(0,r.jsxs)(s,{value:"\uc218\ub3d9 \uc124\uce58",default:!0,children:[(0,r.jsx)(n.p,{children:"\ud544\uc694\ud55c policy\ub294 \ub2e4\uc74c \uba85\ub839\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yum install -y container-selinux selinux-policy-base\nyum install -y https://rpm.rancher.io/k3s/latest/common/centos/7/noarch/k3s-selinux-0.2-1.el7_8.noarch.rpm\n"})}),(0,r.jsxs)(n.p,{children:["\uc124\uce58 \uc2a4\ud06c\ub9bd\ud2b8\uac00 \uc2e4\ud328\ud558\uc9c0 \uc54a\uace0 \uacbd\uace0\ub97c \uae30\ub85d\ud558\ub3c4\ub85d \ud558\ub824\uba74 \ub2e4\uc74c \ud658\uacbd \ubcc0\uc218\ub97c \uc124\uc815\ud558\uba74 \ub429\ub2c8\ub2e4:\n",(0,r.jsx)(n.code,{children:"INSTALL_K3S_SELINUX_WARN=true"}),"."]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"selinux-\uc801\uc6a9-\ud65c\uc131\ud654\ud558\uae30",children:"SELinux \uc801\uc6a9 \ud65c\uc131\ud654\ud558\uae30"}),"\n",(0,r.jsxs)(n.p,{children:["SELinux\ub97c \ud65c\uc6a9\ud558\ub824\uba74 K3s \uc11c\ubc84 \ubc0f \uc5d0\uc774\uc804\ud2b8\ub97c \uc2dc\uc791\ud560 \ub54c ",(0,r.jsx)(n.code,{children:"--selinux"})," \ud50c\ub798\uadf8\ub97c \uc9c0\uc815\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \uc635\uc158\uc740 K3s ",(0,r.jsx)(n.a,{href:"/kr/installation/configuration#configuration-file",children:"\uad6c\uc131 \ud30c\uc77c"}),"\uc5d0\uc11c\ub3c4 \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"selinux: true\n"})}),"\n",(0,r.jsxs)(n.p,{children:["SELinux\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc9c0\uc815 ",(0,r.jsx)(n.code,{children:"--data-dir"}),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc0ac\uc6a9\uc790 \uc9c0\uc815\ud558\ub824\uba74 \uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc815\ucc45\uc744 \uc9c1\uc811 \uc791\uc131\ud574\uc57c \ud560 \uac00\ub2a5\uc131\uc774 \ub192\uc2b5\ub2c8\ub2e4. \ucee8\ud14c\uc774\ub108 \ub7f0\ud0c0\uc784\uc5d0 \ub300\ud55c SELinux \uc815\ucc45 \ud30c\uc77c\uc774 \ud3ec\ud568\ub41c ",(0,r.jsx)(n.a,{href:"https://github.com/containers/container-selinux",children:"containers/container-selinux"})," \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\uc640 K3s\ub97c \uc704\ud55c SELinux \uc815\ucc45\uc774 \ud3ec\ud568\ub41c ",(0,r.jsx)(n.a,{href:"https://github.com/k3s-io/k3s-selinux",children:"k3s-io/k3s-selinux"})," \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac\ub97c \ucc38\uace0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h2,{id:"\uc9c0\uc5f0-\ud480\ub9c1\uc758-\uc9c0\uc5f0-\ud480\ub9c1-\ud65c\uc131\ud654-\uc2e4\ud5d8\uc801",children:"\uc9c0\uc5f0 \ud480\ub9c1\uc758 \uc9c0\uc5f0 \ud480\ub9c1 \ud65c\uc131\ud654 (\uc2e4\ud5d8\uc801)"}),"\n",(0,r.jsx)(n.h3,{id:"\uc9c0\uc5f0-\ud480\ub9c1\uacfc-estargz\ub780-\ubb34\uc5c7\uc778\uac00\uc694",children:"\uc9c0\uc5f0 \ud480\ub9c1\uacfc eStargz\ub780 \ubb34\uc5c7\uc778\uac00\uc694?"}),"\n",(0,r.jsxs)(n.p,{children:["\uc774\ubbf8\uc9c0 \ud480\ub9c1\uc740 \ucee8\ud14c\uc774\ub108 \ub77c\uc774\ud504\uc0ac\uc774\ud074\uc5d0\uc11c \uc2dc\uac04\uc774 \ub9ce\uc774 \uc18c\uc694\ub418\ub294 \ub2e8\uacc4 \uc911 \ud558\ub098\ub85c \uc54c\ub824\uc838 \uc788\uc2b5\ub2c8\ub2e4.\nHarter, et al.(",(0,r.jsx)(n.a,{href:"https://www.usenix.org/conference/fast16/technical-sessions/presentation/harter",children:"https://www.usenix.org/conference/fast16/technical-sessions/presentation/harter"}),"),"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud328\ud0a4\uc9c0 \ud480\ub9c1\uc740 \ucee8\ud14c\uc774\ub108 \uc2dc\uc791 \uc2dc\uac04\uc758 76%\ub97c \ucc28\uc9c0\ud558\uc9c0\ub9cc, \uadf8 \uc911 \uc77d\uae30 \ub370\uc774\ud130\ub294 6.4%\uc5d0 \ubd88\uacfc\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 k3s\ub294 \uc774\ubbf8\uc9c0 \ucf58\ud150\uce20\uc758 ",(0,r.jsx)(n.em,{children:"lazy pulling"}),"\uc744 \uc2e4\ud5d8\uc801\uc73c\ub85c \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\n\uc774\ub97c \ud1b5\ud574 k3s\ub294 \uc804\uccb4 \uc774\ubbf8\uc9c0\uac00 \ud480\ub9c1\ub418\uae30 \uc804\uc5d0 \ucee8\ud14c\uc774\ub108\ub97c \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub300\uc2e0 \ud544\uc694\ud55c \ucf58\ud150\uce20 \uccad\ud06c(\uc608: \uac1c\ubcc4 \ud30c\uc77c)\ub97c \uc628\ub514\ub9e8\ub4dc \ubc29\uc2dd\uc73c\ub85c \uac00\uc838\uc635\ub2c8\ub2e4.\n\ud2b9\ud788 \ub300\uc6a9\ub7c9 \uc774\ubbf8\uc9c0\uc758 \uacbd\uc6b0 \uc774 \uae30\uc220\uc744 \uc0ac\uc6a9\ud558\uba74 \ucee8\ud14c\uc774\ub108 \uc2dc\uc791 \uc9c0\uc5f0 \uc2dc\uac04\uc744 \ub2e8\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["\uc9c0\uc5f0 \ud480\ub9c1\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \ub300\uc0c1 \uc774\ubbf8\uc9c0\uc758 \ud3ec\ub9f7\uc744 ",(0,r.jsx)(n.a,{href:"https://github.com/containerd/stargz-snapshotter/blob/main/docs/stargz-estargz.md",children:(0,r.jsx)(n.em,{children:"eStargz"})}),"\ub85c \uc9c0\uc815\ud574\uc57c \ud569\ub2c8\ub2e4.\n\uc774 \ud615\uc2dd\uc740 OCI \ub300\uccb4 \ud615\uc2dd\uc774\uc9c0\ub9cc \uc9c0\uc5f0 \ud480\ub9c1\uc744 \uc704\ud55c 100% \ud638\ud658\ub418\ub294 \uc774\ubbf8\uc9c0 \ud615\uc2dd\uc785\ub2c8\ub2e4.\n\ud638\ud658\uc131 \ub54c\ubb38\uc5d0 eStargz\ub294 \ud45c\uc900 \ucee8\ud14c\uc774\ub108 \ub808\uc9c0\uc2a4\ud2b8\ub9ac(\uc608: ghcr.io)\ub85c \ud478\uc2dc\ud560 \uc218 \uc788\uc744 \ubfd0\ub9cc \uc544\ub2c8\ub77c eStargz\uc640 \ubb34\uad00\ud55c \ub7f0\ud0c0\uc784\uc5d0\uc11c\ub3c4 ",(0,r.jsx)(n.em,{children:"\uc2e4\ud589 \uac00\ub2a5"})," \ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(n.p,{children:["eStargz\ub294 ",(0,r.jsx)(n.a,{href:"https://github.com/google/crfs",children:"Google CRFS \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc81c\uc548\ud55c stargz \ud615\uc2dd"}),"\uc744 \uae30\ubc18\uc73c\ub85c \uac1c\ubc1c\ub418\uc5c8\uc9c0\ub9cc \ucf58\ud150\uce20 \uac80\uc99d \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \ud3ec\ud568\ud55c \uc2e4\uc6a9\uc801\uc778 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.\n\uc9c0\uc5f0 \ud480\ub9c1\uacfc eStargz\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://github.com/containerd/stargz-snapshotter",children:"Stargz Snapshotter \ud504\ub85c\uc81d\ud2b8 \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac"}),"\ub97c \ucc38\uace0\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.h3,{id:"\uc9c0\uc5f0-\ud480\ub9c1\uc774-\uac00\ub2a5\ud558\ub3c4\ub85d-k3s-\uad6c\uc131\ud558\uae30",children:"\uc9c0\uc5f0 \ud480\ub9c1\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d k3s \uad6c\uc131\ud558\uae30"}),"\n",(0,r.jsxs)(n.p,{children:["\uc544\ub798\uc640 \uac19\uc774 k3s \uc11c\ubc84\uc640 \uc5d0\uc774\uc804\ud2b8\uc5d0\ub294 ",(0,r.jsx)(n.code,{children:"--snapshotter=stargz"})," \uc635\uc158\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"k3s server --snapshotter=stargz\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\uc774 \uad6c\uc131\uc744 \uc0ac\uc6a9\ud558\uba74, eStargz \ud615\uc2dd\uc758 \uc774\ubbf8\uc9c0\uc5d0 \ub300\ud574 \uc9c0\uc5f0 \ud480\ub9c1\uc744 \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc74c \uc608\uc81c \ud30c\ub4dc \ub9e4\ub2c8\ud398\uc2a4\ud2b8\ub294 eStargz \ud615\uc2dd\uc758 ",(0,r.jsx)(n.code,{children:"node:13.13.0"})," \uc774\ubbf8\uc9c0(",(0,r.jsx)(n.code,{children:"ghcr.io/stargz-containers/node:13.13.0-esgz"}),")\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\uc2a4\ud0c0\uc988 \uc2a4\ub0c5\uc0f7\ud130\uac00 \ud65c\uc131\ud654\ub418\uba74 K3s\ub294 \uc774 \uc774\ubbf8\uc9c0\uc5d0 \ub300\ud574 \uc9c0\uc5f0 \ud480\ub9c1\uc744 \uc218\ud589\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: nodejs\nspec:\n  containers:\n    - name: nodejs-estargz\n      image: ghcr.io/stargz-containers/node:13.13.0-esgz\n      command: [\"node\"]\n      args:\n        - -e\n        - var http = require('http');\n          http.createServer(function(req, res) {\n          res.writeHead(200);\n          res.end('Hello World!\\n');\n          }).listen(80);\n      ports:\n        - containerPort: 80\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucd94\uac00-\ub85c\uae45-\uc18c\uc2a4",children:"\ucd94\uac00 \ub85c\uae45 \uc18c\uc2a4"}),"\n",(0,r.jsxs)(n.p,{children:["K3s\uc6a9 ",(0,r.jsx)(n.a,{href:"https://rancher.com/docs/rancher/v2.6/en/logging/helm-chart-options/",children:"\ub79c\ucc98 \ub85c\uae45"}),"\uc740 \ub79c\ucc98\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \uc704\ud574\uc11c\ub294 \ub2e4\uc74c \uc9c0\uce68\uc744 \uc2e4\ud589\ud574\uc57c \ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"helm repo add rancher-charts https://charts.rancher.io\nhelm repo update\nhelm install --create-namespace -n cattle-logging-system rancher-logging-crd rancher-charts/rancher-logging-crd\nhelm install --create-namespace -n cattle-logging-system rancher-logging --set additionalLoggingSources.k3s.enabled=true rancher-charts/rancher-logging\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\ucd94\uac00-\ub124\ud2b8\uc6cc\ud06c-\uc815\ucc45-\ub85c\uae45",children:"\ucd94\uac00 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \ub85c\uae45"}),"\n",(0,r.jsx)(n.p,{children:"\ub124\ud2b8\uc6cc\ud06c \uc815\ucc45\uc5d0 \uc758\ud574 \ucc28\ub2e8\ub41c \ud328\ud0b7\uc744 \ub85c\uae45\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud328\ud0b7\uc740 \ucc28\ub2e8 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45\uc744 \ud3ec\ud568\ud55c \ud328\ud0b7 \uc138\ubd80 \uc815\ubcf4\ub97c \ud45c\uc2dc\ud558\ub294 iptables NFLOG \uc791\uc5c5\uc73c\ub85c \uc804\uc1a1\ub429\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(n.p,{children:["\ud2b8\ub798\ud53d\uc774 \ub9ce\uc73c\uba74 \ub85c\uadf8 \uba54\uc2dc\uc9c0 \uc218\uac00 \ub9e4\uc6b0 \ub9ce\uc544\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc815\ucc45\ubcc4\ub85c \ub85c\uadf8 \uc18d\ub3c4\ub97c \uc81c\uc5b4\ud558\ub824\uba74, \ud574\ub2f9 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45\uc5d0 \ub2e4\uc74c \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ucd94\uac00\ud558\uc5ec ",(0,r.jsx)(n.code,{children:"limit"})," \ubc0f ",(0,r.jsx)(n.code,{children:"limit-burst"})," iptables \ub9e4\uac1c\ubcc0\uc218\ub97c \uc124\uc815\ud569\ub2c8\ub2e4:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"kube-router.io/netpol-nflog-limit=<LIMIT-VALUE>"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"kube-router.io/netpol-nflog-limit-burst=<LIMIT-BURST-VALUE>"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\uae30\ubcf8\uac12\uc740 ",(0,r.jsx)(n.code,{children:"limit=10/minute"}),"\uc640 ",(0,r.jsx)(n.code,{children:"limit-burst=10"}),"\uc785\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ud544\ub4dc\uc758 \ud615\uc2dd\uacfc \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uac12\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,r.jsx)(n.a,{href:"https://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO-7.html#:~:text=restrict%20the%20rate%20of%20matches",children:"iptables manual"}),"\uc744 \ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,r.jsxs)(n.p,{children:["NFLOG \ud328\ud0b7\uc744 \ub85c\uadf8 \ud56d\ubaa9\uc73c\ub85c \ubcc0\ud658\ud558\ub824\uba74 ulogd2\ub97c \uc124\uce58\ud558\uace0 ",(0,r.jsx)(n.code,{children:"[log1]"}),"\uc744 ",(0,r.jsx)(n.code,{children:"group=100"}),"\uc5d0\uc11c \uc77d\ub3c4\ub85d \uad6c\uc131\ud569\ub2c8\ub2e4. \uadf8\ub7f0 \ub2e4\uc74c ulogd2 \uc11c\ube44\uc2a4\ub97c \ub2e4\uc2dc \uc2dc\uc791\ud558\uc5ec \uc0c8 \uad6c\uc131\uc774 \ucee4\ubc0b\ub418\ub3c4\ub85d \ud569\ub2c8\ub2e4.\n\ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \uaddc\uce59\uc5d0 \uc758\ud574 \ud328\ud0b7\uc774 \ucc28\ub2e8\ub418\uba74 ",(0,r.jsx)(n.code,{children:"/var/log/ulog/syslogemu.log"}),"\uc5d0 \ub85c\uadf8 \uba54\uc2dc\uc9c0\uac00 \ub098\ud0c0\ub0a9\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(n.p,{children:"NFLOG \ub137\ub9c1\ud06c \uc18c\ucf13\uc73c\ub85c \uc804\uc1a1\ub41c \ud328\ud0b7\uc740 tcpdump \ub610\ub294 tshark\uc640 \uac19\uc740 \uba85\ub839\uc904 \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc77d\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tcpdump -ni nflog:100\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\ub354 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc9c0\ub9cc, tcpdump\ub294 \ud328\ud0b7\uc744 \ucc28\ub2e8\ud55c \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45\uc758 \uc774\ub984\uc744 \ud45c\uc2dc\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub300\uc2e0 \uc640\uc774\uc5b4\uc0e4\ud06c\uc758 tshark \uba85\ub839\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc815\ucc45 \uc774\ub984\uc774 \ud3ec\ud568\ub41c ",(0,r.jsx)(n.code,{children:"nflog.prefix"})," \ud544\ub4dc\ub97c \ud3ec\ud568\ud55c \uc804\uccb4 NFLOG \ud328\ud0b7 \ud5e4\ub354\ub97c \ud45c\uc2dc\ud558\uc138\uc694."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}function x(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>l});var r=s(7294);const i={},c=r.createContext(i);function l(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);