<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/resource-profiling" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Resource Profiling | K3s</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.k3s.io/reference/resource-profiling"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Resource Profiling | K3s"><meta data-rh="true" name="description" content="This section captures the results of tests to determine resource requirements for K3s."><meta data-rh="true" property="og:description" content="This section captures the results of tests to determine resource requirements for K3s."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.k3s.io/reference/resource-profiling"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/reference/resource-profiling" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/zh/reference/resource-profiling" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/ja/reference/resource-profiling" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/reference/resource-profiling" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Resource Profiling","item":"https://docs.k3s.io/reference/resource-profiling"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="K3s RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="K3s Atom Feed"><link rel="stylesheet" href="/assets/css/styles.6583212c.css">
<script src="/assets/js/runtime~main.dd3bd017.js" defer="defer"></script>
<script src="/assets/js/main.19ea3e2a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/k3s-logo-light.svg"><link rel="preload" as="image" href="/img/k3s-logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/k3s-logo-light.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/k3s-logo-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li><li><a href="/ja/reference/resource-profiling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><a class="navbar__item navbar__link navbar__icon navbar__blog" href="/blog">Blog</a><a href="https://github.com/k3s-io/k3s/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="K3s - Lightweight Kubernetes" class="linkLabel_WmDU">K3s - Lightweight Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quick-start"><span title="Quick-Start Guide" class="linkLabel_WmDU">Quick-Start Guide</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/installation"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/datastore"><span title="Cluster Datastore" class="categoryLinkLabel_W154">Cluster Datastore</span></a><button aria-label="Expand sidebar category &#x27;Cluster Datastore&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/upgrades"><span title="Upgrades" class="categoryLinkLabel_W154">Upgrades</span></a><button aria-label="Expand sidebar category &#x27;Upgrades&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/security"><span title="Security" class="categoryLinkLabel_W154">Security</span></a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/cli"><span title="CLI Tools" class="categoryLinkLabel_W154">CLI Tools</span></a><button aria-label="Expand sidebar category &#x27;CLI Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/architecture"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cluster-access"><span title="Cluster Access" class="linkLabel_WmDU">Cluster Access</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/storage"><span title="Volumes and Storage" class="linkLabel_WmDU">Volumes and Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/import-images"><span title="Import Images" class="linkLabel_WmDU">Import Images</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/networking"><span title="Networking" class="categoryLinkLabel_W154">Networking</span></a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/helm"><span title="Helm" class="linkLabel_WmDU">Helm</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/advanced"><span title="Advanced Options / Configuration" class="linkLabel_WmDU">Advanced Options / Configuration</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/reference/env-variables"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/env-variables"><span title="Environment Variables" class="linkLabel_WmDU">Environment Variables</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/flag-deprecation"><span title="Flag Deprecation" class="linkLabel_WmDU">Flag Deprecation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference/metrics"><span title="Metrics" class="linkLabel_WmDU">Metrics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference/resource-profiling"><span title="Resource Profiling" class="linkLabel_WmDU">Resource Profiling</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/release-notes/v1.34.X"><span title="Release Notes" class="categoryLinkLabel_W154">Release Notes</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/related-projects"><span title="Related Projects" class="linkLabel_WmDU">Related Projects</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/known-issues"><span title="Known Issues" class="linkLabel_WmDU">Known Issues</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Resource Profiling</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Resource Profiling</h1></header><p>This section captures the results of tests to determine resource requirements for K3s.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-resource-requirements-for-k3s">Minimum Resource Requirements for K3s<a href="#minimum-resource-requirements-for-k3s" class="hash-link" aria-label="Direct link to Minimum Resource Requirements for K3s" title="Direct link to Minimum Resource Requirements for K3s" translate="no">​</a></h2>
<p>The results are summarized as follows:</p>
<table><thead><tr><th>Components</th><th>Processor</th><th>Min CPU</th><th>Min RAM with Kine/SQLite</th><th>Min RAM with Embedded etcd</th></tr></thead><tbody><tr><td>K3s server with a workload</td><td>Intel 8375C CPU, 2.90 GHz</td><td>6% of a core</td><td>1596 M</td><td>1606 M</td></tr><tr><td>K3s cluster with a single agent</td><td>Intel 8375C CPU, 2.90 GHz</td><td>5% of a core</td><td>1428 M</td><td>1450 M</td></tr><tr><td>K3s agent</td><td>Intel 8375C CPU, 2.90 GHz</td><td>3% of a core</td><td>275 M</td><td>275 M</td></tr><tr><td>K3s server with a workload</td><td>Pi4B BCM2711, 1.50 GHz</td><td>30% of a core</td><td>1588 M</td><td>1613 M</td></tr><tr><td>K3s cluster with a single agent</td><td>Pi4B BCM2711, 1.50 GHz</td><td>25% of a core</td><td>1215 M</td><td>1413 M</td></tr><tr><td>K3s agent</td><td>Pi4B BCM2711, 1.50 GHz</td><td>10% of a core</td><td>268 M</td><td>268 M</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scope-of-resource-testing">Scope of Resource Testing<a href="#scope-of-resource-testing" class="hash-link" aria-label="Direct link to Scope of Resource Testing" title="Direct link to Scope of Resource Testing" translate="no">​</a></h3>
<p>The resource tests were intended to address the following problem statements:</p>
<ul>
<li>On a single-node cluster, determine the legitimate minimum amount of CPU, memory, and IOPs that should be set aside to run the entire K3s stack server stack, assuming that a real workload will be deployed on the cluster.</li>
<li>On an agent (worker) node, determine the legitimate minimum amount of CPU, memory, and IOPs that should be set aside for the Kubernetes and K3s control plane components (the kubelet and k3s agent).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="components-included-for-baseline-measurements">Components Included for Baseline Measurements<a href="#components-included-for-baseline-measurements" class="hash-link" aria-label="Direct link to Components Included for Baseline Measurements" title="Direct link to Components Included for Baseline Measurements" translate="no">​</a></h3>
<p>The tested components are:</p>
<ul>
<li>K3s v1.26.5 with all packaged components enabled</li>
<li>Prometheus + Grafana monitoring stack</li>
<li><a href="https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/" target="_blank" rel="noopener noreferrer">Kubernetes Example Nginx Deployment</a></li>
</ul>
<p>These are baseline figures for a stable system using only K3s packaged components (Traefik Ingress, Klipper lb, local-path storage) running a standard monitoring stack (Prometheus and Grafana) and the Guestbook example app.</p>
<p>Resource figures including IOPS are for the Kubernetes datastore and control plane only, and do not include overhead for system-level management agents or logging, container image management, or any workload-specific requirements.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="methodology">Methodology<a href="#methodology" class="hash-link" aria-label="Direct link to Methodology" title="Direct link to Methodology" translate="no">​</a></h3>
<p>A standalone instance of Prometheus v2.43.0 was used to collect host CPU, memory, and disk IO statistics using <code>prometheus-node-exporter</code> installed via apt.</p>
<p><code>systemd-cgtop</code> was used to spot-check systemd cgroup-level CPU and memory utilization. <code>system.slice/k3s.service</code> tracks resource utilization for both K3s and containerd, while individual pods are under the <code>kubepods</code> hierarchy.</p>
<p>Additional detailed K3s memory utilization data was collected from <code>kubectl top node</code> using the integrated metrics-server for the server and agent processes.</p>
<p>Utilization figures were based on 95th percentile readings from steady state operation on nodes running the described workloads.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment" translate="no">​</a></h3>
<table><thead><tr><th>Arch</th><th>OS</th><th>System</th><th>CPU</th><th>RAM</th><th>Disk</th></tr></thead><tbody><tr><td>x86_64</td><td>Ubuntu 22.04</td><td>AWS c6id.xlarge</td><td>Intel Xeon Platinum 8375C CPU, 4 Core 2.90 GHz</td><td>8 GB</td><td>NVME SSD</td></tr><tr><td>aarch64</td><td>Raspberry Pi OS 11</td><td>Raspberry Pi 4 Model B</td><td>BCM2711, 4 Core 1.50 GHz</td><td>8 GB</td><td>UHS-III SDXC</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="baseline-resource-requirements">Baseline Resource Requirements<a href="#baseline-resource-requirements" class="hash-link" aria-label="Direct link to Baseline Resource Requirements" title="Direct link to Baseline Resource Requirements" translate="no">​</a></h3>
<p>This section captures the results of tests to determine minimum resource requirements for basic K3s operation.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-server-with-a-workload">K3s Server with a Workload<a href="#k3s-server-with-a-workload" class="hash-link" aria-label="Direct link to K3s Server with a Workload" title="Direct link to K3s Server with a Workload" translate="no">​</a></h4>
<p>These are the requirements for a single-node cluster in which the K3s server shares resources with a <a href="https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/" target="_blank" rel="noopener noreferrer">simple workload</a>.</p>
<p>The CPU requirements are:</p>
<table><thead><tr><th>System</th><th>CPU Core Usage</th></tr></thead><tbody><tr><td>Intel 8375C</td><td>6% of a core</td></tr><tr><td>Pi4B</td><td>30% of a core</td></tr></tbody></table>
<p>The Memory Requirements are:</p>
<table><thead><tr><th>Tested Datastore</th><th>System</th><th>Memory</th></tr></thead><tbody><tr><td>Kine/SQLite</td><td>Intel 8375C</td><td>1596 M</td></tr><tr><td></td><td>Pi4B</td><td>1588 M</td></tr><tr><td>Embedded etcd</td><td>Intel 8375C</td><td>1606 M</td></tr><tr><td></td><td>Pi4B</td><td>1613 M</td></tr></tbody></table>
<p>The Disk requirements are:</p>
<table><thead><tr><th>Tested Datastore</th><th>IOPS</th><th>KiB/sec</th><th>Latency</th></tr></thead><tbody><tr><td>Kine/SQLite</td><td>10</td><td>500</td><td>&lt; 10 ms</td></tr><tr><td>Embedded etcd</td><td>50</td><td>250</td><td>&lt; 5 ms</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-cluster-with-a-single-agent">K3s Cluster with a Single Agent<a href="#k3s-cluster-with-a-single-agent" class="hash-link" aria-label="Direct link to K3s Cluster with a Single Agent" title="Direct link to K3s Cluster with a Single Agent" translate="no">​</a></h3>
<p>These are the baseline requirements for a K3s cluster with a K3s server node and a K3s agent, but no workload.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-server">K3s Server<a href="#k3s-server" class="hash-link" aria-label="Direct link to K3s Server" title="Direct link to K3s Server" translate="no">​</a></h4>
<p>The CPU requirements are:</p>
<table><thead><tr><th>System</th><th>CPU Core Usage</th></tr></thead><tbody><tr><td>Intel 8375C</td><td>5% of a core</td></tr><tr><td>Pi4B</td><td>25% of a core</td></tr></tbody></table>
<p>The Memory Requirements are:</p>
<table><thead><tr><th>Tested Datastore</th><th>System</th><th>Memory</th></tr></thead><tbody><tr><td>Kine/SQLite</td><td>Intel 8375C</td><td>1428 M</td></tr><tr><td></td><td>Pi4B</td><td>1215 M</td></tr><tr><td>Embedded etcd</td><td>Intel 8375C</td><td>1450 M</td></tr><tr><td></td><td>Pi4B</td><td>1413 M</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="k3s-agent">K3s Agent<a href="#k3s-agent" class="hash-link" aria-label="Direct link to K3s Agent" title="Direct link to K3s Agent" translate="no">​</a></h4>
<p>The requirements are:</p>
<table><thead><tr><th>System</th><th>CPU Core Usage</th><th>RAM</th></tr></thead><tbody><tr><td>Intel 8375C</td><td>3% of a core</td><td>275 M</td></tr><tr><td>Pi4B</td><td>5% of a core</td><td>268 M</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analysis-of-primary-resource-utilization-drivers">Analysis of Primary Resource Utilization Drivers<a href="#analysis-of-primary-resource-utilization-drivers" class="hash-link" aria-label="Direct link to Analysis of Primary Resource Utilization Drivers" title="Direct link to Analysis of Primary Resource Utilization Drivers" translate="no">​</a></h3>
<p>K3s server utilization figures are primarily driven by support of the Kubernetes datastore (kine or etcd), API Server, Controller-Manager, and Scheduler control loops, as well as any management tasks necessary to effect changes to the state of the system. Operations that place additional load on the Kubernetes control plane, such as creating/modifying/deleting resources, will cause temporary spikes in utilization. Using operators or apps that make extensive use of the Kubernetes datastore (such as Rancher or other Operator-type applications) will increase the server&#x27;s resource requirements. Scaling up the cluster by adding additional nodes or creating many cluster resources will increase the server&#x27;s resource requirements.</p>
<p>K3s agent utilization figures are primarily driven by support of container lifecycle management control loops. Operations that involve managing images, provisioning storage, or creating/destroying containers will cause temporary spikes in utilization. Image pulls in particular are typically highly CPU and IO bound, as they involve decompressing image content to disk. If possible, workload storage (pod ephemeral storage and volumes) should be isolated from the agent components (/var/lib/rancher/k3s/agent) to ensure that there are no resource conflicts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore">Preventing Agents and Workloads from Interfering with the Cluster Datastore<a href="#preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore" class="hash-link" aria-label="Direct link to Preventing Agents and Workloads from Interfering with the Cluster Datastore" title="Direct link to Preventing Agents and Workloads from Interfering with the Cluster Datastore" translate="no">​</a></h3>
<p>When running in an environment where the server is also hosting workload pods, care should be taken to ensure that agent and workload IOPS do not interfere with the datastore.</p>
<p>This can be best accomplished by placing the server components (/var/lib/rancher/k3s/server) on a different storage medium than the agent components (/var/lib/rancher/k3s/agent), which include the containerd image store.</p>
<p>Workload storage (pod ephemeral storage and volumes) should also be isolated from the datastore.</p>
<p>Failure to meet datastore throughput and latency requirements may result in delayed response from the control plane and/or failure of the control plane to maintain system state.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-sizing-requirements-for-k3s">Server Sizing Requirements for K3s<a href="#server-sizing-requirements-for-k3s" class="hash-link" aria-label="Direct link to Server Sizing Requirements for K3s" title="Direct link to Server Sizing Requirements for K3s" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-1">Environment<a href="#environment-1" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment" translate="no">​</a></h3>
<ul>
<li>All agents were t3.medium AWS ec2 instances.<!-- -->
<ul>
<li>A single agent was a c5.4xlarge instance. This hosted the grafana monitoring stack and prevented it from interfering with the control-plane resources.</li>
</ul>
</li>
<li>The Server was a c5 AWS ec2 instance. As the number of agents increased, the server was upgraded to larger c5 instances.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="methodology-1">Methodology<a href="#methodology-1" class="hash-link" aria-label="Direct link to Methodology" title="Direct link to Methodology" translate="no">​</a></h3>
<p>This data was retrieved under specific test conditions. It will vary depending upon environment and workloads. The steps below give an overview of the test that was run to retrieve this. It was last performed on v1.31.0+k3s1. All the machines were provisioned in AWS with standard 20 GiB gp3 volumes. The test was run with the following steps:</p>
<ol>
<li>Monitor resources on grafana using prometheus data source.</li>
<li>Deploy workloads in such a way to simulate continuous cluster activity:<!-- -->
<ul>
<li>A basic workload that scales up and down continuously</li>
<li>A workload that is deleted and recreated in a loop</li>
<li>A constant workload that contains multiple other resources including CRDs.</li>
</ul>
</li>
<li>Join agent nodes in batches of 50-100 at a time.</li>
<li>Stop adding agents when server CPU spikes above 90% utilization on agent joining, or if RAM was above 80% utilization.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="observations">Observations<a href="#observations" class="hash-link" aria-label="Direct link to Observations" title="Direct link to Observations" translate="no">​</a></h3>
<ul>
<li>When joining agents, server CPU saw spikes of ~20% over baseline.</li>
<li>Typically, the limiting factor was CPU, not RAM. For most of the tests, when the CPU hit 90% utilization, RAM utilization was around 60%.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="a-note-on-high-availability-ha">A note on High Availability (HA)<a href="#a-note-on-high-availability-ha" class="hash-link" aria-label="Direct link to A note on High Availability (HA)" title="Direct link to A note on High Availability (HA)" translate="no">​</a></h4>
<p>At the end of each test, two additional servers were joined (forming a basic 3 node HA cluster) to observe what effect this had on the original server resources. The effect was:</p>
<ul>
<li>A noticeable drop in CPU utilization, usually 30-50%.</li>
<li>RAM utilization remained the same.</li>
</ul>
<p>While not tested, with CPU utilization as the limiting factor on a single server, it is expected that the number of agents that can be joined would increase by ~50% with a 3 node HA cluster.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/k3s-io/docs/edit/main/docs/reference/resource-profiling.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-07T17:39:03.000Z" itemprop="dateModified">Oct 7, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/reference/metrics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Metrics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/release-notes/v1.34.X"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">v1.34.X</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#minimum-resource-requirements-for-k3s" class="table-of-contents__link toc-highlight">Minimum Resource Requirements for K3s</a><ul><li><a href="#scope-of-resource-testing" class="table-of-contents__link toc-highlight">Scope of Resource Testing</a></li><li><a href="#components-included-for-baseline-measurements" class="table-of-contents__link toc-highlight">Components Included for Baseline Measurements</a></li><li><a href="#methodology" class="table-of-contents__link toc-highlight">Methodology</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#baseline-resource-requirements" class="table-of-contents__link toc-highlight">Baseline Resource Requirements</a></li><li><a href="#k3s-cluster-with-a-single-agent" class="table-of-contents__link toc-highlight">K3s Cluster with a Single Agent</a></li><li><a href="#analysis-of-primary-resource-utilization-drivers" class="table-of-contents__link toc-highlight">Analysis of Primary Resource Utilization Drivers</a></li><li><a href="#preventing-agents-and-workloads-from-interfering-with-the-cluster-datastore" class="table-of-contents__link toc-highlight">Preventing Agents and Workloads from Interfering with the Cluster Datastore</a></li></ul></li><li><a href="#server-sizing-requirements-for-k3s" class="table-of-contents__link toc-highlight">Server Sizing Requirements for K3s</a><ul><li><a href="#environment-1" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#methodology-1" class="table-of-contents__link toc-highlight">Methodology</a></li><li><a href="#observations" class="table-of-contents__link toc-highlight">Observations</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 K3s Project Authors. All rights reserved. <br>The Linux Foundation has registered trademarks
      and uses trademarks. For a list of trademarks of The Linux Foundation, 
      please see our <a href="https://www.linuxfoundation.org/trademark-usage"> Trademark Usage</a> page.</div></div></div></footer></div>
</body>
</html>