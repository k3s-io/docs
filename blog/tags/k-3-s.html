<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">One post tagged with &quot;k3s&quot; | K3s</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.k3s.io/blog/tags/k-3-s"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="One post tagged with &quot;k3s&quot; | K3s"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.k3s.io/blog/tags/k-3-s"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/blog/tags/k-3-s" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/zh/blog/tags/k-3-s" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/ja/blog/tags/k-3-s" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.k3s.io/blog/tags/k-3-s" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="K3s RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="K3s Atom Feed"><link rel="stylesheet" href="/assets/css/styles.66b6b699.css">
<script src="/assets/js/runtime~main.65aee3a8.js" defer="defer"></script>
<script src="/assets/js/main.3262547a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/k3s-logo-light.svg"><link rel="preload" as="image" href="/img/k3s-logo-dark.svg"><link rel="preload" as="image" href="https://github.com/galal-hussein.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/k3s-logo-light.svg" alt="logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/k3s-logo-dark.svg" alt="logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/tags/k-3-s" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/blog/tags/k-3-s" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li><li><a href="/ja/blog/tags/k-3-s" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__icon navbar__blog navbar__link--active" href="/blog">Blog</a><a href="https://github.com/k3s-io/k3s/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/09/27/k3s-sysbox">Sysbox Runtime With K3s</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/08/30/K3s-1.34-release">Kubernetes v1.34 is out!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/03/25/K3s-initialization">K3s initialization deep dive</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/03/10/simple-ha">The Basic HA Cluster</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/03/09/hello-blog">Hello Blog</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>One post tagged with &quot;k3s&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/2025/09/27/k3s-sysbox">Sysbox Runtime With K3s</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-09-27T00:00:00.000Z">September 27, 2025</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/galal-hussein" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/galal-hussein.png" alt="Hussein Galal"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/galal-hussein" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Hussein Galal</span></a></div><small class="authorTitle_nd0D" title="K3s maintainer">K3s maintainer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>The K3s binary bundles all the components needed to run a production-ready, CNCF-conformant Kubernetes cluster including containerd, runc, kubelet, and more. In this post we will discuss how containerd communicates with OCI runtimes and will discuss adding another container runtime (Sysbox) to K3s and how it can be used to run system pods in your environment.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="containerd-and-runc">Containerd and Runc<a href="#containerd-and-runc" class="hash-link" aria-label="Direct link to Containerd and Runc" title="Direct link to Containerd and Runc" translate="no">​</a></h2>
<p>First we need to talk briefly about how containerd works with runc. Containerd is a long running daemon that is responsible for:</p>
<ul>
<li class=""><strong>Image Management</strong>: Pulls and stores images from registries.</li>
<li class=""><strong>Container Management</strong>: Manages the lifecycle of containers (create, start, stop, delete).</li>
<li class=""><strong>Snapshot Management</strong>: Uses snapshotters to manage the filesystem layers for containers.</li>
<li class=""><strong>Runtime Management</strong>: Delegates the creation of containers to OCI-compatible runtimes like runc.</li>
</ul>
<p>When you create a pod in Kubernetes, kubelet uses the CRI plugin implemented in containerd to request a <strong>pod sandbox</strong> (<code>RunPodSandbox</code>) and then container creation (<code>CreateContainer</code>). Containerd then calls a <code>shim</code> process that acts as a middleman between <code>containerd</code> and the OCI runtime (for example <code>runc</code>). This shim process allows the container to keep running even if the containerd daemon crashes or restarts.</p>
<p>The shim generates the OCI runtime bundle (<code>config.json</code> and <code>rootfs</code> path) and then executes the runc binary. Runc reads the <code>config.json</code>, sets up the container’s namespaces and cgroups, and then launches the container process.</p>
<p>Runc is the component that directly interfaces with the Linux kernel — configuring cgroups, namespaces, seccomp, capabilities, and mounts. After runc finishes creating the container, it <strong>exits</strong>, leaving the shim to manage the lifecycle and I/O of the container.</p>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sysbox-runtime">Sysbox Runtime<a href="#sysbox-runtime" class="hash-link" aria-label="Direct link to Sysbox Runtime" title="Direct link to Sysbox Runtime" translate="no">​</a></h2>
<p><a href="https://github.com/nestybox/sysbox" target="_blank" rel="noopener noreferrer" class="">Sysbox</a> is an open-source, next-generation container runtime created by Nestybox. Unlike traditional runtimes (such as runc), Sysbox is designed to let you run &quot;system containers&quot;. It primarily leverages <strong>Linux user namespaces</strong> and other features to provide containers that behave more like lightweight virtual machines.</p>
<p>This means you can run workloads like Docker, Systemd, containerd, or even K3s inside your pods — all without requiring privileged mode.</p>
<p>In short, Sysbox bridges the gap between application containers and virtual machines, enabling use cases like running Kubernetes-in-Kubernetes (K8s-in-K8s), CI/CD pipelines that need full OS-like environments, or development sandboxes with VM-level isolation but container speed.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Currently, Sysbox officially supports <strong>CRI-O</strong> only. CRI-O has native support for Linux user namespaces, which Sysbox relies on. While containerd added user namespace support starting in version v2.0, there was a <a href="https://github.com/nestybox/sysbox/issues/958" target="_blank" rel="noopener noreferrer" class="">bug</a> in sysbox-runc that prevented it from working properly with Sysbox.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sysbox-runc-containerd-integration">Sysbox-runc Containerd Integration<a href="#sysbox-runc-containerd-integration" class="hash-link" aria-label="Direct link to Sysbox-runc Containerd Integration" title="Direct link to Sysbox-runc Containerd Integration" translate="no">​</a></h2>
<p>After investigating this issue, I was able to locate the root cause, as explained in this <a href="https://github.com/nestybox/sysbox-runc/pull/106" target="_blank" rel="noopener noreferrer" class="">PR</a>. Containerd was failing to run a specific subcommand for sysbox-runc called <code>features</code>, which led to the following error:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">level=debug msg=&quot;failed to introspect features of runtime \&quot;sysbox-runc\&quot;&quot; error=&quot;failed to unmarshal Features (*anypb.Any): type with url : not found&quot;</span><br></span></code></pre></div></div>
<p>Because of this, containerd instructed sysbox-runc to run containers <strong>without user namespaces</strong>, causing container creation to fail. The fix for this bug was recently merged in the <code>sysbox-runc</code> repo, enabling containerd to work with sysbox-runc.</p>
<h1>Running Sysbox-runc With K3S</h1>
<p>In order to run <code>sysbox-runc</code> with K3s you need to have a running K3s cluster, and then you can proceed to install the latest version of sysbox, However, since the fix for containerd support hasn&#x27;t yet been integrated to sysbox main repo only in <code>sysbox-runc</code>, we need to build the binaries from source to get the latest updates.</p>
<ol>
<li class="">
<p>Install docker in your system.</p>
</li>
<li class="">
<p>Clone the repo and prepare the code</p>
</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone --recursive https://github.com/nestybox/sysbox.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd sysbox/sysbox-runc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git pull origin main</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ..</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">make IMAGE_BASE_DISTRO=ubuntu IMAGE_BASE_RELEASE=jammy sysbox-static</span><br></span></code></pre></div></div>
<p>You can then copy the binaries built to <code>/usr/bin</code> or if you are building on the same machine that you will run containerd you can just run:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">make install</span><br></span></code></pre></div></div>
<ol start="3">
<li class="">Run sysbox binary</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sysbox</span><br></span></code></pre></div></div>
<ol start="4">
<li class="">Create sysbox runc runtime class</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: node.k8s.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">handler: sysbox-runc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: RuntimeClass</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: sysbox-runc</span><br></span></code></pre></div></div>
<ol start="5">
<li class="">Add sysbox runc to containerd configuration, you can do that by creating <code>/var/lib/rancher/k3s/agent/etc/containerd/config.toml.tmpl</code>:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[plugins.&#x27;io.containerd.cri.v1.runtime&#x27;.containerd.runtimes.sysbox-runc]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  runtime_type = &quot;io.containerd.runc.v2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[plugins.&#x27;io.containerd.cri.v1.runtime&#x27;.containerd.runtimes.sysbox-runc.options]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SystemdCgroup = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BinaryName=&quot;/usr/bin/sysbox-runc&quot;</span><br></span></code></pre></div></div>
<ol start="6">
<li class="">Finally you can create pod running with the runtime class for sysbox-runc and <code>hostUsers: false</code>:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: Pod</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: ubuntu</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  runtimeClassName: sysbox-runc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  hostUsers: false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  containers:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - name: ubuntu2204</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    image: ubuntu:22.04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    command: [&quot;sleep&quot;, &quot;40000000000&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  restartPolicy: Never</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Sysbox brings a powerful capability to Kubernetes: the ability to run system-level workloads inside containers with strong isolation, without requiring privileged mode. When combined with K3s, this opens the door to new use cases such as:</p>
<ul>
<li class="">Running Kubernetes-in-Kubernetes clusters for virtual clusters (<a href="https://github.com/rancher/k3k" target="_blank" rel="noopener noreferrer" class="">k3k</a>).</li>
<li class="">Creating secure developer sandboxes that behave like lightweight VMs.</li>
<li class="">Running system daemons or nested container engines inside pods.</li>
</ul>
<p>While Sysbox is officially supported with CRI-O today, the recent fixes in <code>sysbox-runc</code> allow it to run on containerd as well — making it possible to integrate with K3s. The integration is still evolving, but it shows how the container ecosystem is moving beyond traditional app containers toward more flexible &quot;system containers.&quot;</p>
<p>If you’re experimenting with K3s and want to explore system workloads inside pods, Sysbox provides a compelling way to do so while maintaining Kubernetes-native workflows</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/runc">runc</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/k-3-s">k3s</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/sysbox">sysbox</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 K3s Project Authors. All rights reserved. <br>The Linux Foundation has registered trademarks
      and uses trademarks. For a list of trademarks of The Linux Foundation, 
      please see our <a href="https://www.linuxfoundation.org/trademark-usage"> Trademark Usage</a> page.</div></div></div></footer></div>
</body>
</html>